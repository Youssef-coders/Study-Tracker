@font-face {
    font-family: Excalifont;
    src: url(LeagueSpartan-VariableFont_wght.ttf);
}

/* Default term color RGB values */
:root {
    --term-color-rgb: 43, 93, 138;
}

body{
    margin: 0;
    overflow-x: hidden;
    background: linear-gradient(to right, #f0f2f5, #e6e9ef); /* Soft light gradient */
    
}

header {
  background-color: grey;
  color: white;
  height: 60px; /* Reduced back to original height */
  font-size: 50px;
  font-family: 'Excalifont';
  width: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 10000;
  box-shadow: 10px 10px 5px -5px rgba(0,0,0,0.75);
  border: solid black;
  font-weight: 700;

  /* Perfect centering */
  display: flex;
  align-items: center;
  padding-left: 30px;

  /* Micro-adjustment for font */
  line-height: 0.7; /* Adjust this value between 0.8-1.1 as needed */
}
.sidewallleft{
    position: fixed;
    top: 0;
    bottom: 0;
    width: 25px;
    background-color: grey;
    left: 0;
    box-shadow: 0 4px 20px rgba(0,0,0,0.9);
    border: solid;
    border-color: black;

}
.sidewallright{
    position: fixed;
    top: 0;
    bottom: 0;
    width: 25px;
    background-color: grey;
    right: 0;
    box-shadow: 0 4px 20px rgba(0,0,0,0.9);
    border: solid;
    border-color: black;

}
.navbar {
    top: 80px;
    height: 50px;
    margin: 0 auto;
    width: 80%;
    position: absolute;
    border-radius: 25px;
    display: flex;
    justify-content: center;
    gap: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
    background: transparent !important;
    backdrop-filter: none !important;
    border: none !important;
    box-shadow: none !important;
}

.navbar a {
    padding: 12px 24px;
    color: rgb(255, 255, 255);
    text-decoration: none;
    font-size: 18px;
    font-family: 'Excalifont';
    font-weight: bold;
    background-color: var(--nav-button-color, var(--term-color, grey)); /* Use theme nav button color */
    border-radius: 50px;
    display: inline-flex;
    align-items: center;
    width: fit-content;
    box-shadow: 10px 10px 5px -5px rgba(0,0,0,0.75);
    border: solid;
    border-color: black;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

.divider{
    color: black;
    display: inline;
    font-size: 20px;
    
}
.headerspacer{
    height: 60px;
    display: block;
    background-color: white;
}
.navbar a:hover{
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    border-color: rgba(255, 255, 255, 0.3);
}
.navbar a .resource{
    min-width: 120px;

}

#day-info {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    justify-content: center;
    width: auto;
    max-width: 800px;
    margin-top: 58px;
    padding: 20px 20px;
    gap: clamp(15px, 2vw, 25px);
    border-radius: 8px;
    white-space: nowrap;
    z-index: 1000;
    font-family: 'Excalifont';
    color: rgb(0, 0, 0);
}

#day-info p {
    display: inline-flex;
    justify-content: center;
    font-family: 'Excalifont';
    font-size: 20px;
    padding: 8px 15px;
    margin: 0;
    font-weight: 300;
    background: rgba(var(--term-color-rgb, 43, 93, 138), 0.15);
    border-radius: 20px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(var(--term-color-rgb, 43, 93, 138), 0.3);
}

/* Universal button hover effects for all buttons */
button, .btn, .enable, .disable, .set, .addassignment, .addlesson, .addchapter, .addresource, .save-btn, .cancel-btn, .edit-status-btn, .delete-assign-btn, .delete-week-btn, .add-week-btn, .start-week-btn, .skip-week-btn {
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

button:hover, .btn:hover, .enable:hover, .disable:hover, .set:hover, .addassignment:hover, .addlesson:hover, .addchapter:hover, .addresource:hover, .save-btn:hover, .cancel-btn:hover, .edit-status-btn:hover, .delete-assign-btn:hover, .delete-week-btn:hover, .add-week-btn:hover, .start-week-btn:hover, .skip-week-btn:hover {
    transform: translateY(-2px) scale(1.02);
    box-shadow: 0 4px 15px rgba(var(--term-color-rgb, 43, 93, 138), 0.4), 0 0 0 1px rgba(var(--term-color-rgb, 43, 93, 138), 0.3);
}

button:active, .btn:active, .enable:active, .disable:active, .set:active, .addassignment:active, .addlesson:active, .addchapter:active, .addresource:active, .save-btn:active, .cancel-btn:active, .edit-status-btn:active, .delete-assign-btn:active, .delete-week-btn:active, .add-week-btn:active, .start-week-btn:active, .skip-week-btn:active {
    transform: translateY(0px) scale(0.98);
    transition: all 0.1s ease;
}

button:focus, .btn:focus, .enable:focus, .disable:focus, .set:focus, .addassignment:focus, .addlesson:focus, .addchapter:focus, .addresource:focus, .save-btn:focus, .cancel-btn:focus, .edit-status-btn:focus, .delete-assign-btn:focus, .delete-week-btn:focus, .add-week-btn:focus, .start-week-btn:focus, .skip-week-btn:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgba(var(--term-color-rgb, 43, 93, 138), 0.5);
}

/* Flashy light effect for all buttons */
button::before, .btn::before, .enable::before, .disable::before, .set::before, .addassignment::before, .addlesson::before, .addchapter::before, .addresource::before, .save-btn::before, .cancel-btn::before, .edit-status-btn::before, .delete-assign-btn::before, .delete-week-btn::before, .add-week-btn::before, .start-week-btn::before, .skip-week-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s ease;
}

button:hover::before, .btn:hover::before, .enable:hover::before, .disable:hover::before, .set:hover::before, .addassignment:hover::before, .addlesson:hover::before, .addchapter:hover::before, .addresource:hover::before, .save-btn:hover::before, .cancel-btn:hover::before, .edit-status-btn:hover::before, .delete-assign-btn:hover::before, .delete-week-btn:hover::before, .add-week-btn:hover::before, .start-week-btn:hover::before, .skip-week-btn:hover::before {
    left: 100%;
}

/* Make week display clickable */
#day-info .week-display {
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    border: 1px solid transparent;
    
    /* Reset button defaults */
    background: rgba(var(--term-color-rgb, 43, 93, 138), 0.15);
    border: 1px solid rgba(var(--term-color-rgb, 43, 93, 138), 0.3);
    border-radius: 20px;
    backdrop-filter: blur(10px);
    
    /* Match other day-info p elements */
    display: inline-flex;
    justify-content: center;
    font-family: 'Excalifont';
    font-size: 20px;
    padding: 8px 15px;
    margin: 0;
    font-weight: 300;
    
    /* Remove button styling */
    outline: none;
    box-shadow: none;
}

#day-info .week-display:hover {
    background: rgba(var(--term-color-rgb, 43, 93, 138), 0.3);
    transform: translateY(-2px) scale(1.02);
    border-color: rgba(var(--term-color-rgb, 43, 93, 138), 0.5);
    box-shadow: 0 4px 15px rgba(var(--term-color-rgb, 43, 93, 138), 0.4), 0 0 0 1px rgba(var(--term-color-rgb, 43, 93, 138), 0.3);
}

#day-info .week-display::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s ease;
}

#day-info .week-display:hover::before {
    left: 100%;
}

#day-info .week-display:hover {
    background: rgba(var(--term-color-rgb, 43, 93, 138), 0.3);
    transform: translateY(-2px) scale(1.02);
    box-shadow: 0 4px 15px rgba(var(--term-color-rgb, 43, 93, 138), 0.4);
    border-color: rgba(var(--term-color-rgb, 43, 93, 138), 0.5);
}

#day-info .week-display:active {
    transform: translateY(0px) scale(0.98);
    transition: all 0.1s ease;
    background: rgba(var(--term-color-rgb, 43, 93, 138), 0.4);
}

#day-info .week-display:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgba(var(--term-color-rgb, 43, 93, 138), 0.5);
}

#day-info .week-display:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px rgba(var(--term-color-rgb, 43, 93, 138), 0.5);
}
.day{
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    justify-content: center;
    width: fit-content; /* Changed from auto to fit-content to exactly fit the text */
    margin-top: 118px; /* Moved down 2px from 116px */
    padding: 6px 4px 2px 4px; /* Top: 6px, Right: 4px, Bottom: 2px, Left: 4px - extends horizontal sides by 2px */
    border-radius: 8px;
    white-space: nowrap;
    z-index: 1000;
    font-size: 50px;
    font-family: 'Excalifont';
    font-weight: 900;
    color: rgb(0, 0, 0);

}
.hourcard {
    position: absolute;
    left: 55px; 
    width: 575px; 
    top: 235px;
    padding: 20px;
    border: 2px solid rgba(0, 0, 0, 0.1);
    border-radius: 16px;
    height: 400px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    box-sizing: border-box;
    overflow: hidden;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12), 0 4px 16px rgba(0, 0, 0, 0.08);
    background: linear-gradient(135deg, #ffffff, #f8f9fa);
    backdrop-filter: blur(10px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
.hourcard::-webkit-scrollbar {
    display: none; 
}
@media (min-width: 1600px) {
    .hourcard {
        width: 900px; 
    }
}

.hourcard h2 {
    font-family: 'Excalifont';
    font-size: 36px; 
    margin: 10px 0;
    white-space: nowrap; 
}

.hourcard h1 {
    font-family: 'Excalifont';
    font-size: 200px;
    margin: 0;
    line-height: 1;
    flex-grow: 1; 
    display: flex;
    align-items: center; 
}

.hourcard button {
    width: calc(100% - 40px);
    padding: 10px;
    margin-bottom: 0;
    border-radius: 25px;
    border-width: 3px;
    font-family: 'Excalifont';
    font-size: 30px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.9);
}

/* Highest streak card styled like hourcard button */
.streak-top-card {
    position: absolute;
    right: 55px;
    width: 575px;
    top: 650px;
    padding: 20px;
    border: 2px solid rgba(0, 0, 0, 0.1);
    border-radius: 16px;
    height: 160px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    box-sizing: border-box;
    overflow: hidden;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12), 0 4px 16px rgba(0, 0, 0, 0.08);
    background: linear-gradient(135deg, #ffffff, #f8f9fa);
    backdrop-filter: blur(10px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
.streak-top-card h2 { font-family: 'Excalifont'; margin: 0; font-size: 28px; }
.streak-top-card h1 { font-family: 'Excalifont'; margin: 6px 0 0 0; font-size: 72px; color: #d4af37; /* gold */ }

@media (min-width: 1600px) {
    .streak-top-card { width: 900px; }
}
.hourcard button:hover{
    background: linear-gradient(135deg, #2c3e50, #34495e);
    color: white;
    cursor: pointer;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(44, 62, 80, 0.4);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
.streakcard {
    position: absolute;
    right: 55px; 
    width: 575px; 
    top: 235px;
    padding: 20px;
    border: 2px solid rgba(0, 0, 0, 0.1);
    border-radius: 16px;
    height: 400px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    box-sizing: border-box;
    overflow: hidden;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12), 0 4px 16px rgba(0, 0, 0, 0.08);
    background: linear-gradient(135deg, #f8f9fa, #e9ecef);
    backdrop-filter: blur(10px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
.streakcard h2 {
    font-family: 'Excalifont';
    font-size: 36px; 
    margin: 10px 0;
    white-space: nowrap; 
}

.streakcard h1 {
    font-family: 'Excalifont';
    font-size: 250px;
    margin: 0;
    line-height: 1;
    flex-grow: 1; 
    display: flex;
    align-items: center; 
}

/* Streak pop animation */
.streakcard h1.streak-pop { animation: streakPop 300ms ease-out; }
@keyframes streakPop { 0%{ transform: scale(1); } 40%{ transform: scale(1.08);} 100%{ transform: scale(1);} }

.streak-top-card h1.glow { text-shadow: 0 0 10px rgba(212, 175, 55, 0.7), 0 0 20px rgba(212, 175, 55, 0.5); }

/* Beautiful hover effects for cards */
.hourcard:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15), 0 6px 20px rgba(0, 0, 0, 0.1), 0 0 0 2px var(--term-color, #2b5d8a) inset;
}

.streakcard:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15), 0 6px 20px rgba(0, 0, 0, 0.1), 0 0 0 2px var(--term-color, #2b5d8a) inset;
}
@media (min-width: 1600px) {
    .streakcard {
        width: 900px; 
    }
}
.widecard {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    width: 1120px;
    top: 650px;
    padding: 20px;
    border: 5px solid #00000052;
    border-radius: 8px;
    min-height: 200px; 
    box-sizing: border-box;
    overflow: hidden;
    box-shadow: 0 4px 20px rgba(0,0,0,0.5);
    border-radius: 25px;
    background: #FAF9F6;
    background: linear-gradient(to right, #f0f2f5, #e6e9ef); /* Soft light gradient */
}

.widecard h2 {
    font-family: 'Excalifont';
    font-size: 36px;
    margin: 10px 0;
    white-space: nowrap;
    text-align: center;
}
.assigncontainer{
    display: flex;
    flex-direction: column;
    gap: 2px;
    background-color: transparent;
    min-height: 50px; /* Ensure minimum height when empty */
    flex-grow: 1; /* Allow container to stretch */
    overflow-y: visible; /* Let container grow to fit */
}

.assigncontainer:empty::before {
    content: "No upcoming assignments";
    text-align: center;
    padding: 20px;
    color: #666;
    font-family: 'Excalifont';
    font-size: 18px;
    font-style: italic;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 15px;
    margin: 10px;
    backdrop-filter: blur(5px);
    display: block;
    width: 100%;
    box-sizing: border-box;
}

/* Generic empty state for containers */
.empty-state {
    text-align: center;
    padding: 20px;
    color: #666;
    font-family: 'Excalifont';
    font-size: 18px;
    font-style: italic;
    background: rgba(255, 255, 255, 0.85);
    border-radius: 15px;
    margin: 10px;
    border: 2px solid var(--term-color, #2b5d8a);
    box-shadow: 0 4px 12px rgba(0,0,0,0.06);
    backdrop-filter: blur(5px);
}

.upassign {
    display: flex;
    justify-content: space-around; 
    align-items: center;
    width: 100%;
    padding: 15px 0;
    border: none; 
    margin-top: 15px;
    border-radius: 25px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    background: #FAF9F6;
    transition: all 0.3s ease-in-out; 
    backdrop-filter: blur(5px);
}
.upassign:hover{
    transform: scale(1.02);
    box-shadow: 0 6px 25px rgba(0,0,0,0.4);
    background: #f0f0f0;
}

.upassign h4 {
    font-family: 'Excalifont';
    font-size: 24px;
    margin: 0;
    padding: 0 15px;
    white-space: nowrap;
    flex: 1; 
    text-align: center;
    color: #000;
    font-weight: 500;
}

/* Assignment actions */
.assign-actions { display: flex; gap: 8px; align-items: center; }
.assign-actions .delete-assign-btn {
    background: linear-gradient(135deg, #f44336, #d32f2f);
    color: #fff;
    border: 2px solid #b71c1c;
    border-radius: 25px;
    padding: 8px 14px;
    font-family: 'Excalifont';
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s ease-in-out;
    box-shadow: 0 4px 12px rgba(244,67,54,0.25);
}
.assign-actions .delete-assign-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(244,67,54,0.35);
}
/* .assign-filters removed per request */
@media (min-width: 1600px) {
    .widecard {
        width: 1800px; 
    }
}
/* Global term color variables */
body.term-0 { --term-color: grey; --term-color-active: #4d4d4d; --term-active-accent: #ff3d00; --term-color-rgb: 128, 128, 128; }
body.term-1 { --term-color: #2b5d8a; --term-color-active: #1e3f63; --term-active-accent: #ff9800; --term-color-rgb: 43, 93, 138; }
body.term-2 { --term-color: #1f7a3a; --term-color-active: #145c2f; --term-active-accent: #8e24aa; --term-color-rgb: 31, 122, 58; }

/*-----------SETTINGS PAGE---------------*/
.settings-card {
    position: absolute;
    top: 150px; 
    left: 55px; 
    right: 55px;
    min-height: 400px;
    background: #FAF9F6;
    border-radius: 25px;
    padding: 20px;
    border: 5px solid var(--term-color, #555); /* match border to term color */
    border-radius: 8px; 
    padding: 15px; 
    padding-bottom: 25px; /* stretch container ~10px more at the bottom */
    margin-bottom: 20px; 
    overflow: visible; /* allow natural growth without scrollbars */
}

/*-----------TOOLS PAGE---------------*/
.tools-overview {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    margin: 0;
    padding: 0;
    top: 170px;
    position: absolute;
    width: 80%;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
}

/* Individual tool pages */
.pomocard {
    top: 170px;
    position: absolute;
    width: 80%;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
    pointer-events: auto;
}

.flashcard-header {
    top: 170px;
    position: absolute;
    width: 80%;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
    pointer-events: auto;
}

.blurting-container {
    top: 170px;
    position: absolute;
    width: 80%;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
    pointer-events: auto;
}

.flashcard-sets {
    top: 320px;
    position: absolute;
    width: 80%;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
    pointer-events: auto;
}

.tool-card {
    background: linear-gradient(135deg, #ffffff, #f8f9fa);
    border: 3px solid var(--term-color, #2b5d8a);
    border-radius: 20px;
    padding: 30px;
    text-align: center;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
    cursor: pointer;
    position: relative;
    overflow: hidden;
    pointer-events: auto;
}

.tool-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(var(--term-color-rgb, 43, 93, 138), 0.2);
    border-color: var(--term-active-accent, #1e88e5);
}

.tool-icon {
    font-size: 48px;
    margin-bottom: 20px;
}

.tool-card h3 {
    font-family: 'Excalifont';
    font-size: 24px;
    margin: 0 0 15px 0;
    color: var(--term-color, #2b5d8a);
}

.tool-card p {
    font-family: 'LeagueSpartan';
    font-size: 16px;
    color: #666;
    margin: 0 0 25px 0;
    line-height: 1.5;
}

.open-tool-btn {
    padding: 12px 24px;
    border: 2px solid var(--term-color, #2b5d8a);
    background: transparent;
    color: var(--term-color, #2b5d8a);
    border-radius: 25px;
    cursor: pointer;
    font-family: 'Excalifont';
    font-size: 16px;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    text-decoration: none;
    display: inline-block;
}

.open-tool-btn:hover {
    background: var(--term-color, #2b5d8a);
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(var(--term-color-rgb, 43, 93, 138), 0.3);
}

.tool-content-area {
    margin: 0;
    padding: 0;
    top: 170px;
    position: absolute;
    width: 80%;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
}

.tool-header {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 30px;
}

.back-to-tools {
    padding: 10px 20px;
    border: 2px solid var(--term-color, #2b5d8a);
    background: transparent;
    color: var(--term-color, #2b5d8a);
    border-radius: 20px;
    cursor: pointer;
    font-family: 'Excalifont';
    font-size: 14px;
    transition: all 0.3s ease;
}

.back-to-tools:hover {
    background: var(--term-color, #2b5d8a);
    color: white;
    transform: translateY(-2px);
}

.tool-header h2 {
    font-family: 'Excalifont';
    font-size: 32px;
    margin: 0;
    color: var(--term-color, #2b5d8a);
}

.tool-panel {
    max-width: 1000px;
    margin: 0 auto;
}

/*-----------POMODORO PAGE---------------*/
.pomocard {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    top: 220px;
    width: min(92%, 900px);
    min-height: 420px;
    padding: 30px;
    border-radius: 18px;
    background: linear-gradient(135deg, #ffffff, #f8f9fa);
    box-shadow: 0 12px 40px rgba(0,0,0,0.12);
    border: 4px solid var(--term-color, #2b5d8a);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 20px;
}
.pomocard h2 { font-family: 'Excalifont'; font-size: 36px; margin: 0; }
.timer-display { font-family: 'Excalifont'; font-size: 140px; line-height: 1; }
.pom-mode { font-family: 'Excalifont'; font-size: 22px; color: #555; }
.pom-controls { display: flex; gap: 16px; }
.pom-controls button {
    padding: 12px 24px;
    border-radius: 100px;
    border: 3px solid #1565C0;
    background: linear-gradient(135deg, #2196F3, #1976D2);
    color: white;
    font-family: 'Excalifont';
    font-size: 22px;
    cursor: pointer;
    transition: all 0.25s ease-in-out;
    box-shadow: 0 6px 20px rgba(33,150,243,0.35);
}
.pom-controls button:hover { transform: translateY(-2px); box-shadow: 0 8px 26px rgba(33,150,243,0.45); }
.pom-controls #pom-pause { background: linear-gradient(135deg, #FF9800, #F57C00); border-color: #E65100; box-shadow: 0 6px 20px rgba(255,152,0,0.35); }
.pom-controls #pom-reset { background: linear-gradient(135deg, #f44336, #d32f2f); border-color: #b71c1c; box-shadow: 0 6px 20px rgba(244,67,54,0.35); }

@media (min-width: 1600px) {
    .timer-display { font-size: 200px; }
    .pomocard { width: 1100px; min-height: 520px; }
}

/* Pomodoro: dark mode */
body.dark-mode .pomocard {
    background: #1e1e1e !important;
    border-color: var(--term-color, #2b5d8a) !important;
    box-shadow: 0 12px 40px rgba(0,0,0,0.35) !important;
}
body.dark-mode .timer-display { color: #eaeaea !important; }
body.dark-mode .pom-mode { color: #bdbdbd !important; }
body.dark-mode .pom-controls button {
    filter: saturate(0.95) brightness(0.95);
    border-color: #0D47A1;
}
body.dark-mode .pom-controls #pom-pause { background: linear-gradient(135deg, #EF6C00, #E65100); border-color: #BF360C; }
body.dark-mode .pom-controls #pom-reset { background: linear-gradient(135deg, #c62828, #b71c1c); border-color: #8E0000; }

/* Pomodoro: blackout mode */
body.blackout-mode .pomocard {
    background: #000 !important;
    color: #fff !important;
    border-color: #333 !important;
    box-shadow: inset 0 3px 6px rgba(255, 255, 255, 0.08), 0 4px 8px rgba(0,0,0,0.5) !important;
}
body.blackout-mode .timer-display, body.blackout-mode .pom-mode { color: #fff !important; }
body.blackout-mode .pom-controls button {
    background: #333 !important;
    color: #fff !important;
    border-color: #666 !important;
    box-shadow: 0 6px 20px rgba(0,0,0,0.6) !important;
}

.setting {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 0;
    border: 5px solid #555; 
    border-radius: 8px; 
    padding: 15px; 
    margin-bottom: 20px; 
    background: #ffffff; 
    position: relative; 
}

.button-group {
    display: flex;
    gap: 10px;
    justify-content: flex-end; 
    width: 200px; 
}

.setting h3 {
    font-family: 'Excalifont';
    font-size: 26px;
    margin: 0;
    color: #000000;
}

.setting button{
    float: none; /* prevent collapsing of parent height */
    display: flex;
    flex-direction: row;
    gap: 10px;
}
.enable{
    font-size: 24px;
    background: linear-gradient(135deg, rgb(115, 216, 115), rgb(76, 175, 80));
    font-family: 'Excalifont';
    border: 3px solid;
    border-radius: 100px;
    transition: all 0.3s ease-in-out; 
    border-color: rgb(4, 36, 4);
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
    position: relative;
    overflow: hidden;
    color: white;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    padding: 10px 20px;
    min-width: 100px;
    text-align: center;
}
.disable{
    font-size: 24px;
    background: linear-gradient(135deg, rgb(202, 57, 47), rgb(183, 28, 28));
    font-family: 'Excalifont';
    border: 3px solid;
    border-radius: 100px;
    transition: all 0.3s ease-in-out; 
    border-color: rgb(75, 6, 6);
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(244, 67, 54, 0.3);
    position: relative;
    overflow: hidden;
    color: white;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    padding: 10px 20px;
    min-width: 100px;
    text-align: center;
}
.enable:hover{
    cursor: pointer;
    background: linear-gradient(135deg, darkgreen, rgb(27, 94, 32));
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
}
.disable:hover{
    cursor: pointer;
    background: linear-gradient(135deg, rgb(110, 30, 30), rgb(93, 20, 20));
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(244, 67, 54, 0.4);
}
.set{
    font-size: 32px;
    background: linear-gradient(135deg, rgb(115, 167, 216), rgb(33, 150, 243));
    font-family: 'Excalifont';
    border: 3px solid;
    border-radius: 100px;
    transition: all 0.3s ease-in-out; 
    border-color: rgb(4, 31, 36);
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
    position: relative;
    overflow: hidden;
    color: white;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    padding: 12px 24px;
    min-width: 120px;
    text-align: center;
}
.set:hover{
    background: linear-gradient(135deg, rgb(6, 63, 121), rgb(3, 51, 98));
    cursor: pointer;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(33, 150, 243, 0.4);
}
/* Unify Settings buttons to match Start/End glow with no border */
.setting .button-group .term-start,
.setting .button-group .term-end,
.setting .button-group .enable,
.setting .button-group .disable,
.setting .button-group .set {
    border: none !important;
    border-radius: 100px;
    color: #fff;
    font-family: 'Excalifont';
    font-weight: 700;
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
    padding: 12px 26px;
    min-width: 130px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.15);
    transition: all 0.25s ease-in-out;
}

/* Variant colors aligned with Start/End */
.setting .button-group .term-start,
.setting .button-group .enable {
    background: linear-gradient(135deg, #4CAF50, #2E7D32) !important;
    box-shadow: 0 8px 26px rgba(76, 175, 80, 0.45) !important;
}
.setting .button-group .term-start:hover,
.setting .button-group .enable:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 30px rgba(76, 175, 80, 0.5) !important;
}

.setting .button-group .term-end,
.setting .button-group .disable {
    background: linear-gradient(135deg, #f44336, #c62828) !important;
    box-shadow: 0 8px 26px rgba(244, 67, 54, 0.45) !important;
}
.setting .button-group .term-end:hover,
.setting .button-group .disable:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 30px rgba(244, 67, 54, 0.5) !important;
}

.setting .button-group .set {
    background: linear-gradient(135deg, #2196F3, #1565C0) !important;
    box-shadow: 0 8px 26px rgba(33, 150, 243, 0.45) !important;
}
.setting .button-group .set:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 30px rgba(33, 150, 243, 0.5) !important;
}

/* Dark/Blackout mode consistency */
body.dark-mode .setting .button-group .term-start,
body.dark-mode .setting .button-group .enable { background: linear-gradient(135deg, #388E3C, #1B5E20) !important; }
body.dark-mode .setting .button-group .term-end,
body.dark-mode .setting .button-group .disable { background: linear-gradient(135deg, #c62828, #8E0000) !important; }
body.dark-mode .setting .button-group .set { background: linear-gradient(135deg, #1976D2, #0D47A1) !important; }

body.blackout-mode .setting .button-group .term-start,
body.blackout-mode .setting .button-group .enable,
body.blackout-mode .setting .button-group .term-end,
body.blackout-mode .setting .button-group .disable,
body.blackout-mode .setting .button-group .set {
    border: none !important;
}
@media (min-width: 1600px) {
    .settings-card{
        height: 740px; /* add extra height on large screens */
    }
}
@media (min-width: 1600px) {
    .setting {
        height: 120px;
        font-size: 52px
    }
}
@media (min-width: 1600px) {
    .setting h3 {
        font-size: 56px;
    }
}
@media (min-width: 1600px) {
    .setting .button-group button {
        width: 250px;
        height: 80px;
        font-size: 32px;
        padding: 20px 35px;
    }
}
@media (min-width: 1600px) {
    .setting .button-group .set {
        width: 180px; 
        height: 100px;
        font-size: 42px;
        text-align: center;
        padding: 25px 35px;
    }
}
/*------------SUBJECTS GRID-----------------*/
.sro {
    top: 170px;
    height: 50px;
    margin: 0 auto;
    width: 80%;
    position: absolute;
    border-radius: 8px;
    display: flex;
    justify-content: space-between;
    gap: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
}

.sro a {
    padding: 12px 24px;
    color: rgb(0, 0, 0);
    text-decoration: none;
    font-size: 60px;
    font-family: 'Excalifont';
    font-weight: bold;
    background-color: rgb(176, 212, 171);
    border-radius: 25px;
    display: flex;
    align-items: center;
    box-shadow: 10px 10px 5px -5px rgba(0,0,0,0.75);
    border: solid;
    width: 400px;
    border-color: black;
    height: 150px;
}
.sro a:hover{
    background-color: rgb(31, 121, 43);
}
.srtw {
    top: 390px;
    height: 50px;
    margin: 0 auto;
    width: 80%;
    position: absolute;
    border-radius: 8px;
    display: flex;
    justify-content: space-between;
    gap: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
}

.srtw a {
    padding: 12px 24px;
    color: rgb(0, 0, 0);
    text-decoration: none;
    font-size: 60px;
    font-family: 'Excalifont';
    font-weight: bold;
    background-color: rgb(176, 212, 171);
    border-radius: 25px;
    display: flex;
    align-items: center;
    box-shadow: 10px 10px 5px -5px rgba(0,0,0,0.75);
    border: solid;
    width: 400px;
    border-color: black;
    height: 150px;

}
.srtw a:hover{
    background-color: rgb(31, 121, 43);
}
.srth {
    top: 600px;
    height: 50px;
    margin: 0 auto;
    width: 80%;
    position: absolute;
    border-radius: 8px;
    display: flex;
    justify-content: center;
    gap: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
}

.srth a {
    padding: 12px 24px;
    color: rgb(0, 0, 0);
    text-decoration: none;
    font-size: 80px;
    font-family: 'Excalifont';
    font-weight: bold;
    background-color: rgb(176, 212, 171);
    border-radius: 25px;
    display: flex;
    align-items: center;
    box-shadow: 10px 10px 5px -5px rgba(0,0,0,0.75);
    border: solid;
    width: 400px;
    border-color: black;
    height: 150px;
    text-align: center;

}
.srth a:hover{
    background-color: rgb(31, 121, 43);
}
@media (min-width: 1600px) {
    .sro a {
        width: 600px; 
        height: 200px;
        font-size: 80px;
    }
}
@media (min-width: 1600px) {
    .srtw {
        padding-top: 40px;
    }
}
@media (min-width: 1600px) {
    .srtw a {
        width: 600px; 
        height: 200px;
        font-size: 80px;

    }
}
@media (min-width: 1600px) {
    .srth{
        padding-top: 80px;
    }
}
@media (min-width: 1600px) {
    .srth a {
        width: 600px; 
        height: 200px;
        font-size: 80px
    }
}
/*----------SUBJECTS GRID (RESOURCES)------------*/
.rro {
    top: 170px;
    height: 50px;
    margin: 0 auto;
    width: 80%;
    position: absolute;
    border-radius: 8px;
    display: flex;
    justify-content: space-between;
    gap: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
}

.rro a {
    padding: 12px 24px;
    color: rgb(0, 0, 0);
    text-decoration: none;
    font-size: 60px;
    font-family: 'Excalifont';
    font-weight: bold;
    background-color: rgb(95, 93, 221);
    border-radius: 25px;
    display: flex;
    align-items: center;
    box-shadow: 10px 10px 5px -5px rgba(0,0,0,0.75);
    border: solid;
    width: 400px;
    border-color: black;
    height: 150px;
}
.rro a:hover{
    background-color: rgb(60, 28, 119);
}
.rrtw {
    top: 390px;
    height: 50px;
    margin: 0 auto;
    width: 80%;
    position: absolute;
    border-radius: 8px;
    display: flex;
    justify-content: space-between;
    gap: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
}

.rrtw a {
    padding: 12px 24px;
    color: rgb(0, 0, 0);
    text-decoration: none;
    font-size: 60px;
    font-family: 'Excalifont';
    font-weight: bold;
    background-color: rgb(95, 93, 221);
    border-radius: 25px;
    display: flex;
    align-items: center;
    box-shadow: 10px 10px 5px -5px rgba(0,0,0,0.75);
    border: solid;
    width: 400px;
    border-color: black;
    height: 150px;

}
.rrtw a:hover{
    background-color: rgb(60, 28, 119);
}
.rrth {
    top: 600px;
    height: 50px;
    margin: 0 auto;
    width: 80%;
    position: absolute;
    border-radius: 8px;
    display: flex;
    justify-content: center;
    gap: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
}

.rrth a {
    padding: 12px 24px;
    color: rgb(0, 0, 0);
    text-decoration: none;
    font-size: 80px;
    font-family: 'Excalifont';
    font-weight: bold;
    background-color: rgb(95, 93, 221);
    border-radius: 25px;
    display: flex;
    align-items: center;
    box-shadow: 10px 10px 5px -5px rgba(0,0,0,0.75);
    border: solid;
    width: 400px;
    border-color: black;
    height: 150px;
    text-align: center;

}
.rrth a:hover{
    background-color: rgb(60, 28, 119);
}
@media (min-width: 1600px) {
    .rro a {
        width: 600px; 
        height: 200px;
        font-size: 80px;
    }
}
@media (min-width: 1600px) {
    .rrtw {
        padding-top: 40px;
    }
}
@media (min-width: 1600px) {
    .rrtw a {
        width: 600px; 
        height: 200px;
        font-size: 80px;

    }
}
@media (min-width: 1600px) {
    .rrth{
        padding-top: 80px;
    }
}
@media (min-width: 1600px) {
    .rrth a {
        width: 600px; 
        height: 200px;
        font-size: 80px
    }
}
.subbar {
    top: 160px; /* moved back down per request */
    height: 50px;
    margin: 0 auto;
    width: 80%;
    position: absolute;
    border-radius: 8px;
    display: flex;
    justify-content: center;
    gap: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
}

/* Slightly lift subbar on small screens */
/* Slight adjustment only on curriculum pages */
.curric-card ~ .subbar, .subtitle ~ .subbar { top: 152px; }

/* Mobile tweaks */
@media (max-width: 768px) {
  .subbar { top: 150px; }
  .navbar { width: 95%; gap: 10px; position: static; top: auto; transform: none; left: auto; margin: 10px auto; }
  .navbar a { padding: 8px 14px; font-size: 15px; }
  #day-info { gap: 10px; position: static; margin: 10px auto; }
  .day { position: static; margin: 10px auto; text-align: center; }

  /* Stack cards vertically and remove absolute positioning */
  .hourcard, .streakcard, .streak-top-card, .widecard,
  .curric-card, .settings-card, .resource-card, .res-card {
    position: static !important;
    width: calc(100% - 24px) !important;
    left: auto !important; right: auto !important; top: auto !important;
    margin: 10px 12px !important;
  }
  .hourcard, .streakcard { height: auto; padding: 16px; }
  .hourcard h2, .streakcard h2 { font-size: 22px; }
  .hourcard h1 { font-size: 120px; }
  .streakcard h1 { font-size: 160px; }
  .widecard { min-height: 160px; }

  /* Curriculum headers should flow with content */
  .card-header {
    position: static !important;
    left: auto !important; right: auto !important; top: auto !important;
    margin: 10px 15px !important;
  }
  .card-header .card-title { font-size: 22px; max-width: calc(100% - 340px); }
  .card-header .button-group .addlesson,
  .card-header .button-group .addchapter,
  .card-header .button-group .addresource,
  .card-header .button-group .addassignment { min-width: 160px; padding: 8px 16px; font-size: 16px; }

  /* Subject rows stack */
  .sro, .srtw, .srth {
    position: static !important;
    width: calc(100% - 24px);
    margin: 10px auto;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
  }

  /* Pomodoro */
  .timer-display { font-size: 90px; }
  .pomocard { position: static; width: calc(100% - 24px); min-height: 340px; margin: 10px 12px; padding: 20px; }
}

@media (max-width: 480px) {
  .navbar a { padding: 6px 10px; font-size: 13px; }
  .hourcard h1 { font-size: 100px; }
  .streakcard h1 { font-size: 140px; }
  .card-header .card-title { max-width: calc(100% - 280px); font-size: 20px; }
  .card-header .button-group .addlesson,
  .card-header .button-group .addchapter,
  .card-header .button-group .addresource,
  .card-header .button-group .addassignment { min-width: 130px; padding: 6px 12px; font-size: 14px; }
  .lesson { min-height: 32px; padding: 5px 8px; }
  .lesson h3 { font-size: 13px; }
}

/* Landscape small-height devices */
@media (max-height: 450px) and (orientation: landscape) {
  .navbar { position: static; margin: 6px auto; }
  #day-info, .day { margin: 6px auto; }
  .hourcard h1 { font-size: 90px; }
  .streakcard h1 { font-size: 120px; }
  .pomocard { min-height: 280px; }
}

.subbar a {
    padding: 12px 24px;
    color: white;
    text-decoration: none;
    font-size: 18px;
    font-family: 'Excalifont';
    font-weight: bold;
    border-radius: 25px;
    display: flex;
    align-items: center;
    box-shadow: 10px 10px 5px -5px rgba(0,0,0,0.75);
    border: solid;
    border-color: black;
}
.subbar a:hover{
    background-color: rgb(54, 52, 52);
    
}
.subbar a .resource{
    min-width: 120px;

}

.subtitle {
    position: absolute;
    top: 40px; /* move subtitle slightly up */
    left: 0;
    width: 100%;
    text-align: center;
    z-index: 1000;
    font-family: 'Excalifont';
    font-size: 55px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 3px;
    padding: 20px 0;
    color: #2c3e50;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
}
.curric-card {
    position: absolute;
    top: 260px; /* move card slightly down to add a gap below header */
    left: 55px; 
    right: 55px;
    min-height: 400px;
    background: #FAF9F6;
    border-radius: 25px;
    padding: 20px;
    border: 5px solid #555; 
    border-radius: 8px; 
    padding: 15px; 
    margin-bottom: 20px; 
}

.chapter {
    border: 1px solid #e1e5e9;
    background: linear-gradient(135deg, #ffffff, #f9fafb);
    border-radius: 10px;
    padding: 10px 12px;
    margin: 8px 0 10px 0;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}
.chapter > h2 {
    margin: 0 0 10px 0 !important;
    padding: 10px 12px !important;
    border-radius: 10px !important;
    font-size: 24px !important;
}

.lesson {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 8px;
    padding: 6px 10px;
    margin: 4px 0;
    min-height: 38px;
    border: 1px solid #e6e9ed;
    border-radius: 8px;
    background: #fff;
    box-shadow: 0 2px 6px rgba(0,0,0,0.04);
    transition: box-shadow 0.18s ease, transform 0.18s ease, border-color 0.18s ease;
}
.lesson { position: relative; }
.lesson .lesson-delete-btn { position: absolute; top: 0; left: 0; transform: translate(-30%, -30%); width: 28px; height: 28px; border-radius: 50%; border: none; background: linear-gradient(135deg, #ff6b6b, #c0392b); color: #fff; font-weight: 900; font-size: 18px; line-height: 28px; text-align: center; cursor: pointer; opacity: 0; pointer-events: none; box-shadow: 0 2px 8px rgba(0,0,0,0.15); }
.lesson.show-delete .lesson-delete-btn { opacity: 1; pointer-events: auto; }
.lesson .lesson-delete-btn:hover { filter: brightness(1.05); }

.chapter { position: relative; }
.chapter .chapter-delete-btn { position: absolute; top: 0; left: 0; transform: translate(-30%, -30%); width: 28px; height: 28px; border-radius: 50%; border: none; background: linear-gradient(135deg, #ff6b6b, #c0392b); color: #fff; font-weight: 900; font-size: 18px; line-height: 28px; text-align: center; cursor: pointer; opacity: 0; pointer-events: none; box-shadow: 0 2px 8px rgba(0,0,0,0.15); }
.chapter.show-delete .chapter-delete-btn { opacity: 1; pointer-events: auto; }
.chapter .chapter-delete-btn:hover { filter: brightness(1.05); }
.lesson .lesson-title-chip { display: inline-block; font-family: 'Excalifont'; font-weight: 900; font-size: 22px; padding: 8px 12px; border-radius: 12px; color: #fff; background: linear-gradient(135deg, var(--term-color, #2b5d8a), #0f2742); box-shadow: 0 2px 10px rgba(0,0,0,0.10); }
.lesson .lesson-title-chip.progress-green { background: linear-gradient(135deg, #2E7D32, #1B5E20); }
.lesson .lesson-title-chip.progress-yellow { background: linear-gradient(135deg, #FBC02D, #F57F17); color: #111; }
.lesson .lesson-title-chip.progress-red { background: linear-gradient(135deg, #C62828, #8E0000); }
.lesson.mastery-complete { border-color: #1B5E20 !important; background: linear-gradient(135deg, #e8f5e9, #ffffff) !important; }
.lesson.mastery-partial { border-color: #F57F17 !important; background: linear-gradient(135deg, #fff8e1, #ffffff) !important; }
.lesson.mastery-none { border-color: #8E0000 !important; background: linear-gradient(135deg, #ffebee, #ffffff) !important; }

.lesson:hover {
    transform: translateY(-1px);
    box-shadow: 0 6px 16px rgba(0,0,0,0.10);
    border-color: #dfe4ea;
}

/* Beautiful chapter header styling */
.curric-card h2 {
    background: linear-gradient(135deg, #007bff, #0056b3) !important;
    color: white !important;
    padding: 20px !important;
    border-radius: 16px !important;
    margin: 25px 0 20px 0 !important;
    text-align: center !important;
    font-family: 'Excalifont' !important;
    font-size: 28px !important;
    font-weight: bold !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;
    box-shadow: 0 4px 20px rgba(0, 123, 255, 0.3) !important;
    border: 2px solid rgba(255, 255, 255, 0.1) !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.curric-card h2:hover {
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 25px rgba(0, 123, 255, 0.4) !important;
}
.lesson h3 {
    font-family: 'Excalifont';
    font-size: 15px;
    margin: 0;
    color: #000000;
    font-weight: 700;
}

.lesson .button-group h3 {
    margin: 0;
    font-size: 42px;
    font-weight: 900;
    padding: 14px 24px;
    border-radius: 999px;
    color: #fff;
    background: linear-gradient(135deg, var(--term-color, #2b5d8a), #0f2742);
    letter-spacing: 0.4px;
}

/* Mastery color states */
.progress-chip.progress-green { background: linear-gradient(135deg, #2E7D32, #1B5E20) !important; }
.progress-chip.progress-yellow { background: linear-gradient(135deg, #FBC02D, #F57F17) !important; color: #111; }
.progress-chip.progress-red { background: linear-gradient(135deg, #C62828, #8E0000) !important; }
.progress-chip { cursor: pointer; display: inline-block; }

/* Lesson mastery modal styling */
#lessonQuizModal .modal-content { max-width: 720px; border: 3px solid var(--term-color, #2b5d8a); border-radius: 16px; padding: 24px; }
#lessonQuizModal h2 { font-family: 'Excalifont'; font-size: 36px; margin-bottom: 10px; background: linear-gradient(135deg, var(--term-color, #2b5d8a), #0f2742); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; color: transparent; }
#lessonQuizModal p { font-family: 'Excalifont'; font-size: 22px; margin: 10px 0; }
#lessonQuizModal .lesson-title { display: inline-block; font-family: 'Excalifont'; font-size: 24px; font-weight: 900; margin: 8px 0; padding: 10px 14px; border-radius: 12px; color: #fff; background: linear-gradient(135deg, var(--term-color, #2b5d8a), #0f2742); box-shadow: 0 4px 14px rgba(0,0,0,0.12); }
#lessonQuizModal .mastery-line { font-family: 'Excalifont'; font-size: 20px; margin: 10px 0; display: flex; align-items: center; gap: 10px; }
#lessonQuizModal .mastery-value { display: inline-block; font-family: 'Excalifont'; font-size: 28px; font-weight: 900; padding: 8px 14px; border-radius: 999px; color: #fff; background: linear-gradient(135deg, var(--term-color, #2b5d8a), #0f2742); box-shadow: 0 4px 14px rgba(0,0,0,0.12); }
#lessonQuizModal .mastery-value.progress-green { background: linear-gradient(135deg, #2E7D32, #1B5E20); color: #fff; }
#lessonQuizModal .mastery-value.progress-yellow { background: linear-gradient(135deg, #FBC02D, #F57F17); color: #222; }
#lessonQuizModal .mastery-value.progress-red { background: linear-gradient(135deg, #C62828, #8E0000); color: #fff; }
#lessonQuizModal .quiz-list { display:none; }
#lessonQuizModal .quiz-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 14px; margin: 16px 0; }
#lessonQuizModal .quiz-card { border: 2px solid #dee2e6; border-radius: 14px; padding: 14px; background: linear-gradient(135deg, #ffffff, #f8f9fa); box-shadow: 0 2px 12px rgba(0,0,0,0.08); display: flex; align-items: center; gap: 12px; }
#lessonQuizModal .quiz-ring { width: 64px; height: 64px; border-radius: 50%; background: conic-gradient(var(--ring, #2b5d8a) calc(var(--pct, 0) * 1%), #e8e8e8 0); display: flex; align-items: center; justify-content: center; font-family: 'Excalifont'; font-weight: 900; font-size: 16px; color: #222; }
#lessonQuizModal .quiz-ring.ring-green { --ring: #2E7D32; }
#lessonQuizModal .quiz-ring.ring-yellow { --ring: #FBC02D; }
#lessonQuizModal .quiz-ring.ring-red { --ring: #C62828; }
#lessonQuizModal .quiz-meta { display: flex; flex-direction: column; gap: 4px; }
#lessonQuizModal .quiz-score { font-family: 'Excalifont'; font-weight: 900; font-size: 26px; }
#lessonQuizModal .quiz-pct { font-family: 'Excalifont'; font-weight: 700; font-size: 16px; color: #555; }
#lessonQuizModal .quiz-date { font-family: 'Excalifont'; font-size: 14px; color: #777; }
#lessonQuizModal label { font-family: 'Excalifont'; font-size: 16px; display: inline-flex; align-items: center; gap: 8px; }
#lessonQuizModal input[type="number"] { padding: 10px 12px; border: 2px solid #555; border-radius: 10px; font-family: 'Excalifont'; font-size: 16px; }

/* Confetti */
.confetti-piece { position: fixed; width: 8px; height: 12px; top: -20px; opacity: 0.9; border-radius: 2px; z-index: 4000; pointer-events: none; }
@keyframes confettiFall { to { transform: translateY(120vh) rotate(360deg); opacity: 0; } }

/* Assignment and Chapter Title Styling */
.curric-card h2,
.quizlesson-card h2,
.res-card h2,
.curric-card h3,
.quizlesson-card h3,
.res-card h3 {
    font-family: 'Excalifont';
    font-weight: bold;
    color: #333;
    text-align: center;
    margin: 15px 0;
    padding: 10px;
    background: linear-gradient(135deg, #f8f9fa, #e9ecef);
    border-radius: 15px;
    border: 2px solid #dee2e6;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.curric-card h2,
.quizlesson-card h2 {
    font-size: 32px;
    background: linear-gradient(135deg, #007bff, #0056b3);
    color: white;
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
}

.curric-card h3,
.quizlesson-card h3 {
    font-size: 24px;
}
.add-group {
    display: flex;
    gap: 15px;
    margin-bottom: 20px;
    justify-content: flex-end;
}

/* Floating Add Assignment button: keep same horizontal alignment as the assignments card, but place it above/outside the card */
.add-floating {
    position: absolute;
    left: 55px; /* aligns with .curric-card left */
    right: 55px; /* aligns with .curric-card right */
    top: 200px; /* appears above the card (card starts at top: 250px) */
    margin: 0;
    justify-content: flex-end;
    z-index: 1100;
}

/* Generic header that sits above a card, aligns with card edges, and lays out title + actions on one line */
.card-header {
    position: absolute;
    left: 55px;
    right: 55px;
    top: 195px; /* consistent gap above containers (same as homework) */
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
    z-index: 1200;
    background: transparent;
}

.card-header .card-title {
    font-family: 'Excalifont';
    font-size: 28px;
    font-weight: 800;
    margin: 0;
    padding: 8px 14px;
    background: var(--term-color, #2b5d8a); /* will be overridden by term classes */
    color: #fff;
    border-radius: 12px;
    box-shadow: 0 4px 14px rgba(0,0,0,0.2);
    flex: 0 1 auto; /* do not overgrow so two buttons can fit */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: calc(100% - 440px); /* leave space for two 200px buttons + gap */
}

.card-header .button-group { display: flex; gap: 10px; flex: 0 0 auto; }
.card-header .button-group .addassignment,
.card-header .button-group .addlesson,
.card-header .button-group .addchapter,
.card-header .button-group .addresource {
    padding: 10px 20px;
    font-size: 18px;
    line-height: 1.2;
    min-width: 200px; /* unify button widths */
}

/* Ensure the first title inside the card is flush to the top edge of the container */
.curric-card > h3:first-child {
    margin-top: 0 !important;
}

.add-group button {
    font-family: 'Excalifont';
    font-size: 18px;
    padding: 12px 24px;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 2px solid;
    color: white;
    font-weight: bold;
}
.add-group button:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

/* Specific button styles for add-group */
.addchapter {
    background: linear-gradient(135deg, #FF9800, #F57C00);
    border-color: #E65100;
}

.addlesson {
    background: linear-gradient(135deg, #2196F3, #1976D2);
    border-color: #1565C0;
}

.addresource {
    background: linear-gradient(135deg, #9C27B0, #7B1FA2);
    border-color: #6A1B9A;
}

.addassignment {
    background: linear-gradient(135deg, #E91E63, #C2185B);
    border-color: #AD1457;
}

/* Resource card styling */
.res-card {
  background: #fff;
  border: 2px solid #e0e0e0;
  border-radius: 20px;
  padding: 30px;
  margin: 20px 0;
  box-shadow: 0 8px 25px rgba(0,0,0,0.1);
  max-width: 100%;
  overflow: hidden;
}

.resource-list {
  margin-top: 20px;
}

.resource-item {
  background: #ffffff;
  border: 2px solid #e0e0e0;
  border-radius: 15px;
  padding: 20px;
  margin: 15px 0;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  transition: all 0.3s ease;
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.resource-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  border-color: #2196f3;
}

.resource-item h4 {
  color: #333;
  font-size: 1.2rem;
  margin: 0;
  font-weight: 600;
  font-family: 'Excalifont';
}

.resource-item p {
  color: #666;
  margin: 0;
  font-size: 0.95rem;
  font-family: 'Excalifont';
}

.resource-link, .download-btn {
  display: inline-block;
  background: #2196f3;
  color: white;
  padding: 8px 16px;
  text-decoration: none;
  border-radius: 8px;
  font-weight: 500;
  transition: all 0.3s ease;
  margin-top: 10px;
  border: none;
  cursor: pointer;
  font-family: 'Excalifont';
  font-size: 14px;
  text-align: center;
  align-self: flex-start;
}

.resource-link:hover, .download-btn:hover {
  background: #1976d2;
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(33, 150, 243, 0.3);
}

.download-btn {
  background: #4CAF50;
}

.download-btn:hover {
  background: #45a049;
}

.resource-card {
            position: absolute;
            top: 250px; 
            left: 55px; 
            right: 55px;
            min-height: 400px;
            background: #FAF9F6;
            border-radius: 25px;
            padding: 20px;
            border: 5px solid #555; 
            border-radius: 8px; 
            padding: 15px; 
            margin-bottom: 20px;
        }

        .resource {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border: 5px solid #555;
            border-radius: 8px;
            margin-bottom: 20px;
            background: #ffffff;
            position: relative;
        }

        .resource h3 {
            font-family: 'Excalifont';
            font-size: 26px;
            margin: 0;
            color: #000000;
            flex-grow: 1;
        }

        .resource-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .view-btn {
            padding: 8px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 25px;
            font-family: 'Excalifont';
            font-size: 18px;
            cursor: pointer;
            border: 2px solid #2E7D32;
            transition: all 0.3s ease;
        }

        .view-btn:hover {
            background-color: #2E7D32;
        }

        .add-resource-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 8px 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 25px;
            font-family: 'Excalifont';
            font-size: 18px;
            cursor: pointer;
            border: 2px solid #2980b9;
            transition: all 0.3s ease;
        }

        .add-resource-btn:hover {
            background-color: #2980b9;
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6);
            backdrop-filter: blur(8px);
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            margin: 5% auto;
            padding: 40px;
            border: none;
            border-radius: 20px;
            width: 80%;
            max-width: 700px;
            position: relative;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            transform: translateY(20px);
            animation: slideUp 0.4s ease-out forwards;
        }

        @keyframes slideUp {
            to { transform: translateY(0); }
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
            color: #666;
            transition: all 0.3s ease;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(0,0,0,0.1);
        }

        .close-btn:hover {
            color: #333;
            background: rgba(0,0,0,0.2);
            transform: scale(1.1);
        }

        .resource-form,
        .chapter-form,
        .lesson-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            font-weight: bold;
            color: #333;
            font-family: 'Excalifont';
            font-size: 16px;
        }

        .resource-form input, 
        .resource-form textarea,
        .chapter-form input,
        .lesson-form input,
        .chapter-form select,
        .lesson-form select {
            padding: 15px;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            font-family: 'Excalifont';
            font-size: 16px;
            background: white;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .resource-form input:focus, 
        .resource-form textarea:focus,
        .chapter-form input:focus,
        .lesson-form input:focus,
        .chapter-form select:focus,
        .lesson-form select:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 3px rgba(0,123,255,0.1);
            transform: translateY(-2px);
        }

        .resource-form textarea {
            min-height: 150px;
            resize: vertical;
        }

        .submit-btn {
            padding: 12px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 8px;
            font-family: 'Excalifont';
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .submit-btn:hover {
            background-color: #2E7D32;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .modal-actions {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #e1e5e9;
        }

        .modal h2 {
            color: #333;
            font-family: 'Excalifont';
            font-size: 28px;
            margin-bottom: 25px;
            text-align: center;
            background: linear-gradient(135deg, #007bff, #0056b3);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
#lessonModal, #chapterModal {
    display: none; /* Change to block temporarily to view */
    position: fixed;
    z-index: 2000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.7);
}

.modal-content {
    background-color: #FAF9F6;
    margin: 10% auto;
    padding: 30px;
    border: 5px solid #555;
    border-radius: 15px;
    width: 60%;
    max-width: 600px;
    position: relative;
}

.lesson-form, .chapter-form {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.lesson-form input,
.chapter-form input {
    padding: 12px;
    border: 2px solid #555;
    border-radius: 8px;
    font-family: 'Excalifont';
    font-size: 16px;
}

.close-btn {
    position: absolute;
    top: 15px;
    right: 15px;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
}

.submit-btn {
    padding: 12px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 8px;
    font-family: 'Excalifont';
    font-size: 18px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.submit-btn:hover {
    background-color: #2E7D32;
}
/* Quiz Season Modal Styles */
#quizSeasonModal .modal-content {
  max-width: 900px;
  padding: 30px;
}

.week-range {
  display: flex;
  gap: 30px;
  margin-bottom: 20px;
}

.quiz-grid table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
}

.quiz-grid th, .quiz-grid td {
  border: 2px solid #555;
  padding: 12px;
  text-align: center;
}

.quiz-grid select {
  width: 100%;
  padding: 8px;
  border-radius: 5px;
  border: 2px solid #555;
  font-family: 'Excalifont';
}

/* Assignment Modal Styles */
.assignment-form .form-group {
  margin-bottom: 20px;
}

.assignment-form label {
  display: block;
  margin-bottom: 8px;
  font-weight: bold;
}

.assignment-form input,
.assignment-form select {
  width: 100%;
  padding: 12px;
  border: 2px solid #555;
  border-radius: 8px;
  font-family: 'Excalifont';
}

.modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: 15px;
  margin-top: 25px;
}

.save-btn, .cancel-btn {
  padding: 12px 25px;
  border-radius: 25px;
  font-family: 'Excalifont';
  font-weight: bold;
  cursor: pointer;
}

.save-btn {
  background-color: #4CAF50;
  color: white;
  border: 2px solid #2E7D32;
}

.cancel-btn {
  background-color: #f44336;
  color: white;
  border: 2px solid #d32f2f;
}     
/* Term Colors - Enhanced with modern styling */
body.term-0 .term-element {
  background: linear-gradient(135deg, #808080, #696969) !important;
  box-shadow: 0 4px 15px rgba(128, 128, 128, 0.3) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  backdrop-filter: blur(10px) !important;
}

body.term-1 .term-element {
  background: linear-gradient(135deg, #2b5d8a, #1e3a5f) !important; /* dark blue */
  box-shadow: 0 4px 15px rgba(43, 93, 138, 0.3) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  backdrop-filter: blur(10px) !important;
}

body.term-2 .term-element {
  background: linear-gradient(135deg, #1f7a3a, #155a2a) !important; /* dark green */
  box-shadow: 0 4px 15px rgba(31, 122, 58, 0.3) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  backdrop-filter: blur(10px) !important;
}

/* Ensure navbar term elements always use term colors */
body.term-0 .navbar .term-element {
  background: var(--nav-button-color, var(--term-color, grey)) !important;
}

body.term-1 .navbar .term-element {
  background: var(--nav-button-color, var(--term-color, #2b5d8a)) !important; /* dark blue */
}

body.term-2 .navbar .term-element {
  background: var(--nav-button-color, var(--term-color, #1f7a3a)) !important; /* dark green */
}

/* Override dark mode for navbar term elements */
body.dark-mode.term-0 .navbar .term-element {
  background: grey !important;
}

body.dark-mode.term-1 .navbar .term-element {
  background: #2b5d8a !important; /* dark blue */
}

body.dark-mode.term-2 .navbar .term-element {
  background: #1f7a3a !important; /* dark green */
}

/* Override blackout mode for navbar term elements */
body.blackout-mode.term-0 .navbar .term-element {
  background: grey !important;
}

body.blackout-mode.term-1 .navbar .term-element {
  background: #2b5d8a !important; /* dark blue */
}

body.blackout-mode.term-2 .navbar .term-element {
  background: #1f7a3a !important; /* dark green */
}

/* Blackout Mode */
body.blackout-mode {
  background: #000 !important;
  color: #fff !important;
}

body.blackout-mode *:not(#day-info):not(#day-info *):not(.day):not(h1.day):not(.sro):not(.srtw):not(.srth) {
  background: #000 !important;
  color: #fff !important;
  border-color: #333 !important;
}   
/* Ensure .term-element picks up colors */
/* These are now defined above in the Term Colors section */

/* Navbar active selectors (fix) - EXTREME OVERRIDE */
.navbar a.active,
body.term-0 .navbar a.active,
body.term-1 .navbar a.active,
body.term-2 .navbar a.active,
body.dark-mode .navbar a.active,
body.blackout-mode .navbar a.active,
body.term-0.dark-mode .navbar a.active,
body.term-1.dark-mode .navbar a.active,
body.term-2.dark-mode .navbar a.active,
body.term-0.blackout-mode .navbar a.active,
body.term-1.blackout-mode .navbar a.active,
body.term-2.blackout-mode .navbar a.active { 
  background: var(--term-active-accent, var(--term-color, #2b5d8a)) !important;
  color: #fff !important;
  box-shadow: 0 10px 28px rgba(0,0,0,0.45), 0 0 0 3px var(--term-active-accent, rgba(255,255,255,0.15)) inset;
  transform: translateY(-2px) scale(1.02);
  border: 2px solid var(--term-active-accent, transparent);
}

.subbar a.active,
body.term-0 .subbar a.active,
body.term-1 .subbar a.active,
body.term-2 .subbar a.active,
body.dark-mode .subbar a.active,
body.blackout-mode .subbar a.active,
body.term-0.dark-mode .subbar a.active,
body.term-1.dark-mode .subbar a.active,
body.term-2.dark-mode .subbar a.active,
body.term-0.blackout-mode .subbar a.active,
body.term-1.blackout-mode .subbar a.active,
body.term-2.blackout-mode .subbar a.active { 
  background: var(--term-active-accent, var(--term-color, #2b5d8a)) !important;
  color: #fff !important;
  box-shadow: 0 10px 28px rgba(0,0,0,0.45), 0 0 0 3px var(--term-active-accent, rgba(255,255,255,0.15)) inset;
  transform: translateY(-2px) scale(1.02);
  border: 2px solid var(--term-active-accent, transparent);
}

/* Ensure active color shows in dark/blackout modes */
body.dark-mode .navbar a.active,
body.blackout-mode .navbar a.active {
  background: var(--term-active-accent, var(--term-color, #2b5d8a)) !important;
  color: #fff !important;
}
body.dark-mode .subbar a.active,
body.blackout-mode .subbar a.active {
  background: var(--term-active-accent, var(--term-color, #2b5d8a)) !important;
  color: #fff !important;
}

/* Dark mode */
body.dark-mode { background: #121212 !important; color: #eaeaea !important; }
body.dark-mode .term-element, body.dark-mode .widecard, body.dark-mode .curric-card, body.dark-mode .settings-card { background: #1e1e1e !important; color: #eaeaea !important; border-color: #333 !important; }

/* Dark mode text colors for day info and day */
body.dark-mode #day-info,
body.dark-mode #day-info p,
body.dark-mode .day {
    color: #eaeaea !important;
}

/* Dark mode translucent backgrounds for day info paragraphs */
body.dark-mode #day-info p {
    background: rgba(var(--term-color-rgb, 43, 93, 138), 0.25) !important;
    border-color: rgba(var(--term-color-rgb, 43, 93, 138), 0.5) !important;
}

/* Dark mode assignment text colors */
body.dark-mode .upassign h4 {
    color: #000 !important;
}

body.dark-mode .assigncontainer:empty::before {
    color: #000 !important;
    background: rgba(255, 255, 255, 0.9) !important;
}

/* Dark mode assignment hover effect */
body.dark-mode .upassign:hover {
    background: #e0e0e0 !important;
}



/* Modal base ensure consistent behavior */
.modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); }
.modal .modal-content { max-width: 900px; margin: 6% auto; }

/* Weekly Progression Modal */
#weeklyProgressionModal .modal-content {
  max-width: 500px;
  text-align: center;
}

/* Week Manager Modal */
#weekManagerModal .modal-content {
  max-width: 700px;
  text-align: center;
}

#weekManagerModal h2 {
  color: var(--term-color, #2b5d8a);
  margin-bottom: 20px;
  font-size: 32px;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 2px solid var(--term-color, #2b5d8a);
}

.close-btn {
  font-size: 36px;
  font-weight: bold;
  color: #666;
  cursor: pointer;
  padding: 5px 10px;
  border-radius: 50%;
  transition: all 0.3s ease;
  line-height: 1;
}

.close-btn:hover {
  color: #333;
  background: #f0f0f0;
  transform: scale(1.1);
}

.total-weeks-display {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 15px;
  margin: 25px 0;
  padding: 20px;
  background: linear-gradient(135deg, rgba(var(--term-color-rgb, 43, 93, 138), 0.1), rgba(var(--term-color-rgb, 43, 93, 138), 0.05));
  border-radius: 15px;
  border: 2px solid rgba(var(--term-color-rgb, 43, 93, 138), 0.3);
}

.total-weeks-label {
  font-family: 'Excalifont';
  font-size: 24px;
  font-weight: bold;
  color: var(--term-color, #2b5d8a);
}

.total-weeks-number {
  font-family: 'Excalifont';
  font-size: 48px;
  font-weight: 900;
  color: var(--term-color, #2b5d8a);
  background: linear-gradient(135deg, var(--term-color, #2b5d8a), #0f2742);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  color: transparent;
}

.week-list {
  max-height: 400px;
  overflow-y: auto;
  margin: 25px 0;
  border: 2px solid #ddd;
  border-radius: 12px;
  padding: 15px;
  background: #f8f9fa;
}

.week-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px;
  margin: 8px 0;
  background: white;
  border-radius: 10px;
  border: 1px solid #e9ecef;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  transition: all 0.3s ease;
}

.week-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 16px rgba(0,0,0,0.15);
}

.week-number {
  font-family: 'Excalifont';
  font-size: 20px;
  font-weight: bold;
  color: var(--term-color, #2b5d8a);
}

.delete-week-btn {
  background: #dc3545;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-family: 'Excalifont';
  font-size: 14px;
  font-weight: bold;
  transition: all 0.3s ease;
}

.delete-week-btn:hover {
  background: #c82333;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(220, 53, 69, 0.4);
}

#weekManagerModal .modal-actions {
  display: flex;
  gap: 20px;
  justify-content: center;
  margin-top: 30px;
}

#weekManagerModal .add-week-btn {
  font-size: 18px;
  padding: 12px 30px;
}

#weeklyProgressionModal h2 {
  color: var(--term-color, #2b5d8a);
  margin-bottom: 20px;
}

#weeklyProgressionModal p {
  font-size: 18px;
  margin: 15px 0;
  line-height: 1.5;
}

#weeklyProgressionModal .modal-actions {
  display: flex;
  gap: 15px;
  justify-content: center;
  margin-top: 25px;
}

#weeklyProgressionModal .start-week-btn {
  background: linear-gradient(135deg, #4CAF50, #2E7D32);
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 25px;
  font-family: 'Excalifont';
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
}

#weeklyProgressionModal .start-week-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(76, 175, 80, 0.3);
}

#weeklyProgressionModal .skip-week-btn {
  background: linear-gradient(135deg, #FF9800, #F57C00);
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 25px;
  font-family: 'Excalifont';
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
}

#weeklyProgressionModal .skip-week-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(255, 152, 0, 0.3);
}

/* Toast notifications */
#toast-container {
  position: fixed;
  right: 20px;
  bottom: 20px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  z-index: 3000;
}
.toast {
  padding: 12px 16px;
  border-radius: 12px;
  color: #fff;
  font-family: 'Excalifont';
  font-weight: 700;
  letter-spacing: 0.3px;
  transform: translateY(10px);
  opacity: 0;
  transition: all 240ms ease;
  box-shadow: 0 8px 24px rgba(0,0,0,0.25);
}
.toast.show { transform: translateY(0); opacity: 1; }
.toast.info { background: linear-gradient(135deg, #2196F3, #1976D2); }
.toast.success { background: linear-gradient(135deg, #4CAF50, #2E7D32); }
.toast.warn { background: linear-gradient(135deg, #FFC107, #FF9800); color: #111; }
.toast.error { background: linear-gradient(135deg, #f44336, #d32f2f); }

/* Dark/blackout tweaks */
body.dark-mode .toast.warn { color: #000; }
body.blackout-mode .toast { box-shadow: 0 8px 24px rgba(255,255,255,0.15); }


/* AI Quiz Modal Styling */
#aiQuizModal .modal-content {
    max-width: 1000px;
    max-height: 90vh;
    overflow-y: auto;
}

/* Quiz Season Modal Styling */
#quizSeasonModal .modal-content {
    max-width: 1200px;
    max-height: 80vh;
    overflow-y: auto;
}

.quiz-grid {
    max-height: 400px;
    overflow-y: auto;
    border: 2px solid #ddd;
    border-radius: 8px;
    margin: 15px 0;
}

.quiz-grid table {
    width: 100%;
    border-collapse: collapse;
}

.quiz-grid th,
.quiz-grid td {
    padding: 10px;
    text-align: center;
    border: 1px solid #ddd;
}

.quiz-grid th {
    background: linear-gradient(135deg, #007bff, #0056b3);
    color: white;
    font-weight: bold;
    position: sticky;
    top: 0;
    z-index: 10;
}

.quiz-grid select {
    padding: 5px;
    border: 1px solid #ddd;
    border-radius: 4px;
    background: white;
    font-family: 'Excalifont';
}

.week-range {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin: 20px 0;
}

.week-range div {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.week-range label {
    font-weight: bold;
    font-family: 'Excalifont';
}

.week-range input {
    padding: 8px;
    border: 2px solid #ddd;
    border-radius: 6px;
    font-family: 'Excalifont';
    font-size: 16px;
}



/* === REQUIRED PATCHES === */

/* Settings button alignment */
.setting .button-group button,
.setting .button-group .btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 10px 16px;
  line-height: 1.2;
  vertical-align: middle;
}

/* Modals: always black text on white background for readability */
.modal .modal-content {
  background: #fff !important;
  color: #000 !important;
}

/* Start/End styled (allowed change) - Enhanced modern design */
.btn { 
    border-radius: 100px; 
    padding: 14px 24px; 
    border: 2px solid var(--term-color, #2a7be4); 
    background: #fff; 
    font-family: 'Excalifont';
    font-size: 16px;
    font-weight: bold;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    min-width: 80px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(42, 123, 228, 0.2);
    backdrop-filter: blur(10px);
}

.btn-start { 
    border-color: #2b5d8a; 
    background: linear-gradient(135deg, #4CAF50, #45a049);
    color: white;
    box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    border: 2px solid #4CAF50;
}

.btn-end { 
    border-color: #d32f2f; 
    background: linear-gradient(135deg, #f44336, #d32f2f);
    color: white;
    box-shadow: 0 6px 20px rgba(244, 67, 54, 0.4);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    border: 2px solid #f44336;
}

.btn:hover {
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 8px 25px rgba(42, 123, 228, 0.3);
    border-color: var(--term-color, #2a7be4);
}

.btn:active {
    transform: translateY(0);
    transition: all 0.1s ease;
}

.btn-start:hover {
    background: linear-gradient(135deg, #45a049, #388E3C);
    box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
}

.btn-end:hover {
    background: linear-gradient(135deg, #d32f2f, #c62828);
    box-shadow: 0 6px 20px rgba(244, 67, 54, 0.4);
}

/* Cool ripple effect for buttons */
.btn::before,
.enable::before,
.disable::before,
.set::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
}

.btn:active::before,
.enable:active::before,
.disable:active::before,
.set:active::before {
    width: 300px;
    height: 300px;
}

/* Dark mode button adjustments */
body.dark-mode .btn {
    color: #eaeaea;
    border-color: var(--term-color, #2a7be4);
}

body.dark-mode .btn-start {
    background: linear-gradient(135deg, #388E3C, #2E7D32);
    border-color: #388E3C;
}

body.dark-mode .btn-end {
    background: linear-gradient(135deg, #c62828, #b71c1c);
    border-color: #c62828;
}

/* Dark mode for all buttons */
body.dark-mode .hourcard button {
    background: linear-gradient(135deg, #2E7D32, #1B5E20);
    border-color: #1B5E20;
}

/* Dark mode for AI Quiz Modal */
body.dark-mode .quiz-info {
    background: #2a2a2a;
}

body.dark-mode .question {
    background: #1e1e1e;
    border-color: #444;
}

body.dark-mode .question h3,
body.dark-mode .question p {
    color: #eaeaea;
}

body.dark-mode .option {
    border-color: #444;
    background: #2a2a2a;
}

body.dark-mode .option:hover {
    border-color: #2196F3;
    background: #1a1a2a;
}

body.dark-mode .option span {
    color: #eaeaea;
}

/* Dark mode for titles */
body.dark-mode .curric-card h2,
body.dark-mode .quizlesson-card h2,
body.dark-mode .res-card h2 {
    background: linear-gradient(135deg, #1a1a2a, #16213e);
    color: #eaeaea;
}

body.dark-mode .curric-card h3,
body.dark-mode .quizlesson-card h3,
body.dark-mode .res-card h3 {
    background: linear-gradient(135deg, #2a2a2a, #1e1e1e);
    color: #eaeaea;
    border-color: #444;
}

/* Dark mode for Quiz Season Modal */
body.dark-mode .quiz-grid {
    border-color: #444;
}

body.dark-mode .quiz-grid th {
    background: linear-gradient(135deg, #1a1a2a, #16213e);
}

body.dark-mode .quiz-grid td {
    border-color: #444;
    background: #1e1e1e;
}

body.dark-mode .quiz-grid select {
    background: #2a2a2a;
    color: #eaeaea;
    border-color: #444;
}

body.dark-mode .week-range input {
    background: #2a2a2a;
    color: #eaeaea;
    border-color: #444;
}

body.dark-mode .addlesson {
    background: linear-gradient(135deg, #1565C0, #0D47A1);
    border-color: #0D47A1;
}

body.dark-mode .addchapter {
    background: linear-gradient(135deg, #E65100, #BF360C);
    border-color: #BF360C;
}

body.dark-mode .addresource {
    background: linear-gradient(135deg, #6A1B9A, #4A148C);
    border-color: #4A148C;
}

body.dark-mode .resource-item {
    background: #2c2c2c;
    border-color: #555;
}

body.dark-mode .resource-item h4 {
    color: #ffffff;
}

body.dark-mode .resource-item p {
    color: #cccccc;
}

body.dark-mode .resource-link {
    background: #1976d2;
}

body.dark-mode .resource-link:hover {
    background: #1565c0;
}

body.dark-mode .download-btn {
    background: #388E3C;
}

body.dark-mode .download-btn:hover {
    background: #2E7D32;
}

body.dark-mode .addassignment {
    background: linear-gradient(135deg, #AD1457, #880E4F);
    border-color: #880E4F;
}

/* Beautiful dark mode styling for lessons */
body.dark-mode .lesson {
    background: linear-gradient(135deg, #2a2a2a, #1e1e1e) !important;
    border: 2px solid #444 !important;
    border-radius: 12px !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3) !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

body.dark-mode .lesson:hover {
    background: linear-gradient(135deg, #333333, #2a2a2a) !important;
    border-color: #666 !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4) !important;
}

body.dark-mode .lesson h3 {
    color: #eaeaea !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5) !important;
}

/* Dark mode for chapters */
body.dark-mode .chapter {
    background: linear-gradient(135deg, #1a1a2a, #16213e) !important;
    border: 2px solid #444 !important;
    border-radius: 12px !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3) !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

body.dark-mode .chapter:hover {
    background: linear-gradient(135deg, #16213e, #0f1419) !important;
    border-color: #666 !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4) !important;
}

body.dark-mode .chapter h3 {
    color: #eaeaea !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5) !important;
}

body.dark-mode .save-btn {
    background: linear-gradient(135deg, #2E7D32, #1B5E20);
    border-color: #1B5E20;
}

body.dark-mode .cancel-btn {
    background: linear-gradient(135deg, #c62828, #b71c1c);
    border-color: #b71c1c;
}



body.dark-mode .edit-status-btn {
    background: linear-gradient(135deg, #6A1B9A, #4A148C);
    border-color: #4A148C;
}

/* Focus states for accessibility */
.btn:focus,
.enable:focus,
.disable:focus,
.set:focus,
.hourcard button:focus,
.addlesson:focus,
.addchapter:focus,
.addresource:focus,
.addassignment:focus,
.save-btn:focus,
.cancel-btn:focus,
.edit-status-btn:focus {
    outline: 2px solid #2196F3;
    outline-offset: 2px;
}

/* Button press animation */
.btn:active,
.enable:active,
.disable:active,
.set:active,
.hourcard button:active,
.addchapter:active,
.addresource:active,
.addassignment:active,
.save-btn:active,
.cancel-btn:active,
.edit-status-btn:active {
    transform: scale(0.95);
    transition: all 0.1s ease;
}

/* Click feedback pulse */
button.clicked, .term-element.clicked {
    box-shadow: 0 0 0 8px rgba(33, 150, 243, 0.15) inset !important;
}

/* Global button styling for all buttons */
.hourcard button,
.addlesson,
.addchapter,
.addresource,
.addassignment,
.save-btn,
.cancel-btn,
.edit-status-btn {
    font-family: 'Excalifont';
    font-weight: bold;
    border-radius: 100px;
    transition: all 0.3s ease-in-out;
    cursor: pointer;
    position: relative;
    overflow: hidden;
    border: 3px solid;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

/* Specific button styles */
.hourcard button {
    background: linear-gradient(135deg, #4CAF50, #45a049);
    color: white;
    border-color: #388E3C;
    font-size: 30px;
    padding: 15px 30px;
}

.addlesson {
    background: linear-gradient(135deg, #2196F3, #1976D2);
    color: white;
    border-color: #1565C0;
    font-size: 18px;
    padding: 10px 20px;
    min-width: 200px;
}

.addchapter {
    background: linear-gradient(135deg, #FF9800, #F57C00);
    color: white;
    border-color: #E65100;
    font-size: 18px;
    padding: 10px 20px;
    min-width: 200px;
}

.addresource {
    background: linear-gradient(135deg, #9C27B0, #7B1FA2);
    color: white;
    border-color: #6A1B9A;
    font-size: 18px;
    padding: 10px 20px;
    min-width: 200px;
}

.addassignment {
    background: linear-gradient(135deg, #E91E63, #C2185B);
    color: white;
    border-color: #AD1457;
    font-size: 24px;
    padding: 12px 24px;
}

.save-btn {
    background: linear-gradient(135deg, #4CAF50, #45a049);
    color: white;
    border-color: #388E3C;
    font-size: 18px;
    padding: 10px 20px;
}

.cancel-btn {
    background: linear-gradient(135deg, #f44336, #d32f2f);
    color: white;
    border-color: #c62828;
    font-size: 18px;
    padding: 10px 20px;
}



.edit-status-btn {
    background: linear-gradient(135deg, #9C27B0, #7B1FA2);
    color: white;
    border-color: #6A1B9A;
    font-size: 16px;
    padding: 8px 16px;
    margin-left: 10px;
}

/* Button hover effects */
.hourcard button:hover,
.addlesson:hover,
.addchapter:hover,
.addresource:hover,
.addassignment:hover,
.save-btn:hover,
.cancel-btn:hover,
.edit-status-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.4);
}

.hourcard button:hover {
    background: linear-gradient(135deg, #45a049, #388E3C);
}

.addlesson:hover {
    background: linear-gradient(135deg, #1976D2, #1565C0);
}

.addchapter:hover {
    background: linear-gradient(135deg, #F57C00, #E65100);
}

.addresource:hover {
    background: linear-gradient(135deg, #7B1FA2, #6A1B9A);
}

.addassignment:hover {
    background: linear-gradient(135deg, #C2185B, #AD1457);
}

.save-btn:hover {
    background: linear-gradient(135deg, #45a049, #388E3C);
}

.cancel-btn:hover {
    background: linear-gradient(135deg, #d32f2f, #c62828);
}



.edit-status-btn:hover {
    background: linear-gradient(135deg, #7B1FA2, #6A1B9A);
}

/* Ripple effect for all buttons */
.hourcard button::before,
.addlesson::before,
.addchapter::before,
.addresource::before,
.addassignment::before,
.save-btn::before,
.cancel-btn::before,
.edit-status-btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
}

.hourcard button:active::before,
.addlesson:active::before,
.addchapter:active::before,
.addresource:active::before,
.addassignment:active::before,
.save-btn:active::before,
.cancel-btn:active::before,
.edit-status-btn:active::before {
    width: 300px;
    height: 300px;
}

/* Global ripple circles */
.ripple-circle {
    position: absolute;
    border-radius: 50%;
    background: rgba(255,255,255,0.35);
    pointer-events: none;
    transform: scale(0);
    animation: rippleExpand 520ms ease-out forwards;
}
@keyframes rippleExpand {
  to { transform: scale(1); opacity: 0; }
}

/* Blackout mode button adjustments */
body.blackout-mode .btn {
    background: #333 !important;
    color: #fff !important;
    border-color: #666 !important;
}

body.blackout-mode .btn-start {
    background: #2d5a2d !important;
}

body.blackout-mode .btn-end {
    background: #5a2d2d !important;
}

/* Blackout mode for all buttons */
body.blackout-mode .hourcard button,
body.blackout-mode .addlesson,
body.blackout-mode .addchapter,
body.blackout-mode .addresource,
body.blackout-mode .addassignment,
body.blackout-mode .save-btn,
body.blackout-mode .cancel-btn,
body.blackout-mode .edit-status-btn {
    background: #333 !important;
    color: #fff !important;
    border-color: #666 !important;
}

/* Blackout mode for navbar and subbar */
body.blackout-mode .navbar .term-element,
body.blackout-mode .navbar a,
body.blackout-mode .subbar .term-element,
body.blackout-mode .subbar a,
body.blackout-mode .sro a,
body.blackout-mode .srtw a,
body.blackout-mode .srth a {
    background: #000 !important;
    color: #fff !important;
    border-color: red !important;
}

/* ULTRA SPECIFIC day background override for blackout mode - MAXIMUM SPECIFICITY */
body.blackout-mode #day-info,
body.blackout-mode #day-info *,
body.blackout-mode h1.day {
    background: rgba(var(--term-color-rgb, 43, 93, 138), 0.1) !important;
    color: #fff !important;
}

/* Force day background to be transparent with highest possible specificity */
body.blackout-mode #day-info {
    background: transparent !important;
    color: #fff !important;
}

body.blackout-mode #day-info h1.day {
    background: transparent !important;
    color: #fff !important;
}

body.blackout-mode h1.day {
    background: transparent !important;
    color: #fff !important;
}

/* CRITICAL: Override any conflicting rules for day elements */
body.blackout-mode #day-info,
body.blackout-mode #day-info p,
body.blackout-mode h1.day {
    background: rgba(var(--term-color-rgb, 43, 93, 138), 0.1) !important;
    color: #fff !important;
    border: 1px solid rgba(var(--term-color-rgb, 43, 93, 138), 0.2) !important;
    box-shadow: none !important;
}

/* Blackout mode for subject grid rows - transparent background */
body.blackout-mode .subject-grid {
    background: transparent !important;
}

body.blackout-mode .subject-row {
    background: transparent !important;
}

/* Ensure subject row containers are transparent in blackout mode */
body.blackout-mode .sro,
body.blackout-mode .srtw,
body.blackout-mode .srth {
    background: transparent !important;
}

/* CRITICAL: Force subject rows to be transparent with maximum specificity */
body.blackout-mode .sro,
body.blackout-mode .srtw,
body.blackout-mode .srth {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
}

/* Remove scrollbars globally */
* {
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
}

*::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
}

/* Ensure scrolling still works */
html, body {
    overflow-y: auto;
    scrollbar-width: none;
    -ms-overflow-style: none;
}

html::-webkit-scrollbar,
body::-webkit-scrollbar {
    display: none;
}



/* Blackout mode for resource items */
body.blackout-mode .resource-item {
    background: #000 !important;
    border-color: red !important;
    color: #fff !important;
}

body.blackout-mode .resource-item h4 {
    color: #fff !important;
}

body.blackout-mode .resource-item p {
    color: #ccc !important;
}

body.blackout-mode .resource-link {
    background: #333 !important;
    color: #fff !important;
    border-color: red !important;
}

body.blackout-mode .download-btn {
    background: #333 !important;
    color: #fff !important;
    border-color: red !important;
}

/* Global dark mode: apply everywhere */
body.dark-mode {
  background: #111 !important;
  color: #eee !important;
}
body.dark-mode .term-element,
body.dark-mode .hourcard,
body.dark-mode .streakcard,
body.dark-mode .widecard,
body.dark-mode .curric-card,
body.dark-mode .res-card,
body.dark-mode .setting {
  background: #1a1a1a !important;
  border-color: var(--term-color, #2a7be4) !important;
}

body.dark-mode .setting h1,
body.dark-mode .setting h2,
body.dark-mode .setting h3,
body.dark-mode .setting p,
body.dark-mode .setting label {
  color: #eaeaea !important;
}

/* Dark mode for homework page assignments */
body.dark-mode .curric-card .upassign {
  background-color: #2a2a2a !important;
  border-color: #444 !important;
}

body.dark-mode .curric-card .upassign h4 {
  color: #eaeaea !important;
}

/* Blackout mode: sleek depressed look - background black, text white, subtle borders */
body.blackout-mode *:not(.navbar .term-element):not(.navbar a):not(.subbar .term-element):not(.subbar a):not(.sro a):not(.srtw a):not(.srth a):not(#day-info):not(#day-info *):not(.day):not(h1.day):not(.sro):not(.srtw):not(.srth) {
  background: #000 !important;
  color: #fff !important;
  border-color: #333 !important;
  box-shadow: inset 0 2px 4px rgba(255, 255, 255, 0.1) !important;
}

/* Make div backgrounds transparent in blackout mode for text readability */
body.blackout-mode div:not(.modal .modal-content):not(.navbar):not(.sidewallleft):not(.sidewallright):not(header) {
  background: transparent !important;
}

/* Blackout mode for subject grid buttons */
body.blackout-mode .sro a,
body.blackout-mode .srtw a,
body.blackout-mode .srth a {
  background: #000 !important;
  color: #fff !important;
  border-color: red !important;
}

/* Ensure subbar is properly styled in blackout mode */
body.blackout-mode .subbar {
  background: transparent !important;
}

body.blackout-mode .subbar a {
  background: #000 !important;
  color: #fff !important;
  border-color: red !important;
}

/* Blackout mode assignment text colors */
body.blackout-mode .upassign h4 {
    color: #fff !important;
}

body.blackout-mode .assigncontainer:empty::before {
    color: #fff !important;
    background: rgba(0, 0, 0, 0.8) !important;
}

/* Blackout mode for homework page assignments */
body.blackout-mode .curric-card .upassign {
    background-color: #000 !important;
    border-color: #333 !important;
    box-shadow: inset 0 2px 4px rgba(255, 255, 255, 0.1) !important;
}

/* Blackout mode assignment hover effect */
body.blackout-mode .upassign:hover {
    background: #333 !important;
}
body.blackout-mode .modal .modal-content {
  background: #fff !important;
  color: #000 !important;
  border-color: #333 !important;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1) !important;
}


/* === Card background & border fix v5.4 === */
.hourcard, .streakcard, .curric-card,
.resource-card, .res-card, .setting, .settings-card, .widecard {
  background-color: #fff !important;
  border-width: 10px !important;
  border-style: solid !important;
}

/* Assignment container should not have borders */
.assigncontainer {
  background-color: transparent !important;
  border: none !important;
}

/* Upcoming assignments should not have borders */
.upassign {
  background-color: #FAF9F6 !important;
  border: none !important;
}

/* Homework page specific styling */
.curric-card .upassign {
  border-radius: 12px !important;
  margin: 10px 3px !important; /* 3px gap on each side */
  padding: 15px !important;
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  flex-wrap: wrap !important;
  gap: 10px !important;
  box-sizing: border-box !important; /* ensure width includes padding and border */
  width: calc(100% - 6px) !important; /* full width minus 3px gap left and right */
}

/* Assignment urgency styling - override default */
.curric-card .upassign.urgency-low {
  background-color: #f1f8e9 !important;
  border: 3px solid #4CAF50 !important;
}

.curric-card .upassign.urgency-medium {
  background-color: #fff8e1 !important;
  border: 3px solid #FF9800 !important;
}

.curric-card .upassign.urgency-high {
  background-color: #fce4ec !important;
  border: 3px solid #FF5722 !important;
}

.curric-card .upassign.urgency-critical {
  background-color: #ffebee !important;
  border: 3px solid #F44336 !important;
  animation: pulse-critical 2s infinite !important;
}

.curric-card .upassign h4 {
  margin: 0 !important;
  font-size: 16px !important;
  color: #333 !important;
  flex: 1 !important;
  min-width: 120px !important;
}

.curric-card .upassign .edit-status-btn {
  flex-shrink: 0 !important;
  margin-left: auto !important;
}

body.blackout-mode .hourcard,
body.blackout-mode .streakcard,
body.blackout-mode .curric-card,
body.blackout-mode .assigncontainer,
body.blackout-mode .upassign,
body.blackout-mode .quiz-card,
body.blackout-mode .resource-card,
body.blackout-mode .res-card,
body.blackout-mode .setting,
body.blackout-mode .settings-card,
body.blackout-mode .widecard {
  background-color: #000 !important;
  border-color: #333 !important;
  box-shadow: inset 0 3px 6px rgba(255, 255, 255, 0.15), 0 4px 8px rgba(0, 0, 0, 0.3) !important;
}

/* === New Quiz System Styles === */

.day.blackout-mode{
    background: transparent !important;
}

/* === Tools Styles === */

/* Flashcards */
.flashcard-header {
    top: 170px;
    position: absolute;
    width: 80%;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
    pointer-events: auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
    flex-wrap: wrap;
    gap: 20px;
    background: white;
    padding: 25px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    border: 2px solid var(--term-color, #2b5d8a);
}

.subject-filter {
    display: flex;
    align-items: center;
    gap: 10px;
    background: rgba(255, 255, 255, 0.8);
    padding: 10px 15px;
    border-radius: 10px;
    border: 1px solid rgba(var(--term-color-rgb, 43, 93, 138), 0.2);
}

.subject-filter label {
    font-family: 'Excalifont';
    font-size: 16px;
    color: var(--term-color, #2b5d8a);
    font-weight: bold;
}

.subject-filter select {
    padding: 8px 16px;
    border: 2px solid var(--term-color, #2b5d8a);
    border-radius: 15px;
    font-family: 'LeagueSpartan';
    font-size: 14px;
    background: white;
    color: #333;
    cursor: pointer;
}

.add-set-btn {
    padding: 12px 24px;
    border: 2px solid var(--term-color, #2b5d8a);
    background: var(--term-color, #2b5d8a);
    color: white;
    border-radius: 25px;
    cursor: pointer;
    font-family: 'Excalifont';
    font-size: 16px;
    transition: all 0.3s ease;
    position: relative;
    z-index: 1001;
    user-select: none;
    display: inline-block;
    text-decoration: none;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.add-set-btn:hover {
    background: var(--term-active-accent, #1e88e5);
    border-color: var(--term-active-accent, #1e88e5);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(var(--term-color-rgb, 43, 93, 138), 0.3);
}

.add-set-btn:active {
    transform: translateY(0);
    box-shadow: 0 2px 10px rgba(var(--term-color-rgb, 43, 93, 138), 0.4);
}

/* Form actions styling */
.form-actions {
    display: flex;
    gap: 15px;
    margin-top: 25px;
    justify-content: flex-end;
}

.form-actions button {
    padding: 12px 24px;
    border: 2px solid var(--term-color, #2b5d8a);
    border-radius: 15px;
    font-family: 'Excalifont';
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.form-actions .save-btn {
    background: var(--term-color, #2b5d8a);
    color: white;
}

.form-actions .save-btn:hover {
    background: var(--term-active-accent, #1e88e5);
    border-color: var(--term-active-accent, #1e88e5);
    transform: translateY(-2px);
}

.form-actions .cancel-btn {
    background: transparent;
    color: var(--term-color, #2b5d8a);
}

.form-actions .cancel-btn:hover {
    background: var(--term-color, #2b5d8a);
    color: white;
    transform: translateY(-2px);
}

/* Form group styling */
.form-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-bottom: 20px;
}

/* Study Mode Styling */
.study-mode {
    background: white;
    border-radius: 20px;
    padding: 30px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    border: 2px solid var(--term-color, #2b5d8a);
}

/* Blurting Button Styling */
.start-blurt-btn,
.stop-blurt-btn,
.clear-btn {
    padding: 12px 24px;
    border: 2px solid var(--term-color, #2b5d8a);
    border-radius: 25px;
    cursor: pointer;
    font-family: 'Excalifont';
    font-size: 16px;
    transition: all 0.3s ease;
    position: relative;
    z-index: 1001;
    user-select: none;
    display: inline-block;
    text-decoration: none;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.start-blurt-btn {
    background: var(--term-color, #2b5d8a);
    color: white;
}

.start-blurt-btn:hover:not(:disabled) {
    background: var(--term-active-accent, #1e88e5);
    border-color: var(--term-active-accent, #1e88e5);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(var(--term-color-rgb, 43, 93, 138), 0.3);
}

.stop-blurt-btn {
    background: #f44336;
    border-color: #f44336;
    color: white;
}

.stop-blurt-btn:hover:not(:disabled) {
    background: #d32f2f;
    border-color: #d32f2f;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(244, 67, 54, 0.3);
}

.clear-btn {
    background: transparent;
    color: var(--term-color, #2b5d8a);
}

.clear-btn:hover {
    background: var(--term-color, #2b5d8a);
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(var(--term-color-rgb, 43, 93, 138), 0.3);
}

.start-blurt-btn:disabled,
.stop-blurt-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* Pomodoro Button Styling */
.timer-btn,
.mode-btn {
    padding: 12px 24px;
    border: 2px solid var(--term-color, #2b5d8a);
    border-radius: 25px;
    cursor: pointer;
    font-family: 'Excalifont';
    font-size: 16px;
    transition: all 0.3s ease;
    position: relative;
    z-index: 1001;
    user-select: none;
    display: inline-block;
    text-decoration: none;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    margin: 0 10px;
}

.timer-btn {
    background: var(--term-color, #2b5d8a);
    color: white;
}

.timer-btn:hover:not(:disabled) {
    background: var(--term-active-accent, #1e88e5);
    border-color: var(--term-active-accent, #1e88e5);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(var(--term-color-rgb, 43, 93, 138), 0.3);
}

.timer-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.mode-btn {
    background: transparent;
    color: var(--term-color, #2b5d8a);
}

.mode-btn:hover,
.mode-btn.active {
    background: var(--term-color, #2b5d8a);
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(var(--term-color-rgb, 43, 93, 138), 0.3);
}

.mode-btn.active {
    background: var(--term-active-accent, #1e88e5);
    border-color: var(--term-active-accent, #1e88e5);
}

/* Pomodoro Page Specific Styling */
.pomocard {
    background: white;
    border: 3px solid var(--term-color, #2b5d8a);
    border-radius: 20px;
    padding: 40px;
    text-align: center;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    max-width: 550px;
    margin: 0 auto;
}

.pomocard h1 {
    font-family: 'Excalifont';
    font-size: 32px;
    color: var(--term-color, #2b5d8a);
    margin: 0 0 30px 0;
}

.timer-display {
    font-family: 'Excalifont';
    font-size: 72px;
    color: var(--term-color, #2b5d8a);
    margin: 30px 0;
    text-shadow: 0 4px 15px rgba(var(--term-color-rgb, 43, 93, 138), 0.2);
}

.timer-controls {
    margin: 30px 0;
}

.timer-mode {
    margin-top: 30px;
}

/* Blurting Page Specific Styling */
.blurting-container {
    background: white;
    border: 3px solid var(--term-color, #2b5d8a);
    border-radius: 20px;
    padding: 40px;
    text-align: center;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    max-width: 660px;
    margin: 0 auto;
}

.blurting-controls {
    margin-bottom: 30px;
    display: flex;
    gap: 15px;
    justify-content: center;
    flex-wrap: wrap;
}

.blurting-timer {
    font-family: 'Excalifont';
    font-size: 48px;
    color: var(--term-color, #2b5d8a);
    margin: 30px 0;
    text-shadow: 0 4px 15px rgba(var(--term-color-rgb, 43, 93, 138), 0.2);
}

.blurting-area {
    margin-top: 30px;
}

#blurtingText {
    width: 100%;
    min-height: 300px;
    padding: 20px;
    border: 2px solid var(--term-color, #2b5d8a);
    border-radius: 15px;
    font-family: 'LeagueSpartan';
    font-size: 16px;
    line-height: 1.6;
    resize: vertical;
    background: white;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

#blurtingText:focus {
    outline: none;
    border-color: var(--term-active-accent, #1e88e5);
    box-shadow: 0 0 0 3px rgba(var(--term-color-rgb, 43, 93, 138), 0.1);
}

.study-header {
    text-align: center;
    margin-bottom: 30px;
}

.study-header h2 {
    font-family: 'Excalifont';
    font-size: 28px;
    color: var(--term-color, #2b5d8a);
    margin: 0 0 10px 0;
}

.study-header p {
    font-family: 'LeagueSpartan';
    font-size: 16px;
    color: #666;
    margin: 0 0 20px 0;
}

.exit-study-btn {
    padding: 10px 20px;
    border: 2px solid var(--term-color, #2b5d8a);
    background: transparent;
    color: var(--term-color, #2b5d8a);
    border-radius: 20px;
    cursor: pointer;
    font-family: 'Excalifont';
    font-size: 14px;
    transition: all 0.3s ease;
}

.exit-study-btn:hover {
    background: var(--term-color, #2b5d8a);
    color: white;
    transform: translateY(-2px);
}

.flashcard-study {
    display: flex;
    justify-content: center;
    margin: 30px 0;
    position: relative;
    z-index: 1001;
}

.flashcard {
    width: 400px;
    height: 250px;
    perspective: 1000px;
    cursor: pointer;
}

.flashcard-inner {
    position: relative;
    width: 100%;
    height: 100%;
    text-align: center;
    transition: transform 0.6s;
    transform-style: preserve-3d;
}

.flashcard.flipped .flashcard-inner {
    transform: rotateY(180deg);
}

.flashcard-front,
.flashcard-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: linear-gradient(135deg, #ffffff, #f8f9fa);
    border: 3px solid var(--term-color, #2b5d8a);
    border-radius: 20px;
    padding: 30px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

.flashcard-back {
    transform: rotateY(180deg);
}

.flashcard-front p,
.flashcard-back p {
    font-family: 'Excalifont';
    font-size: 20px;
    color: var(--term-color, #2b5d8a);
    margin: 0 0 20px 0;
    line-height: 1.4;
}

.card-hint {
    font-family: 'LeagueSpartan';
    font-size: 12px;
    color: #999;
    font-style: italic;
}

.study-controls {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 50px 0 0 0;
    position: relative;
    z-index: 1000;
}

.study-controls .study-btn {
    padding: 12px 24px;
    border: 2px solid var(--term-color, #2b5d8a);
    background: var(--term-color, #2b5d8a);
    color: white;
    border-radius: 20px;
    cursor: pointer;
    font-family: 'Excalifont';
    font-size: 16px;
    transition: all 0.3s ease;
}

.study-controls .study-btn:hover:not(:disabled) {
    background: var(--term-active-accent, #1e88e5);
    border-color: var(--term-active-accent, #1e88e5);
    transform: translateY(-2px);
}

.study-controls .study-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* Removed progress bar - buttons now at bottom */

.form-group label {
    font-weight: bold;
    color: #333;
    font-family: 'Excalifont';
    font-size: 16px;
}

.form-group input,
.form-group textarea,
.form-group select {
    padding: 12px 16px;
    border: 2px solid #e1e5e9;
    border-radius: 12px;
    font-family: 'LeagueSpartan';
    font-size: 14px;
    background: white;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus {
    outline: none;
    border-color: var(--term-color, #2b5d8a);
    box-shadow: 0 0 0 3px rgba(var(--term-color-rgb, 43, 93, 138), 0.1);
}

/* Modal title styling */
.modal-content h2 {
    font-family: 'Excalifont';
    font-size: 24px;
    color: var(--term-color, #2b5d8a);
    margin: 0 0 25px 0;
    text-align: center;
}

/* Subject page content positioning */
.curriculum-content,
.resources-content {
    top: 170px;
    position: absolute;
    width: 80%;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
    pointer-events: auto;
}

.curriculum-header,
.resources-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
    flex-wrap: wrap;
    gap: 20px;
    background: rgba(255, 255, 255, 0.9);
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.curriculum-header h1,
.resources-header h1 {
    font-family: 'Excalifont';
    font-size: 28px;
    color: var(--term-color, #2b5d8a);
    margin: 0;
}

.addchapter,
.addresource {
    padding: 12px 24px;
    border: 2px solid var(--term-color, #2b5d8a);
    background: var(--term-color, #2b5d8a);
    color: white;
    border-radius: 25px;
    cursor: pointer;
    font-family: 'Excalifont';
    font-size: 16px;
    transition: all 0.3s ease;
    position: relative;
    z-index: 1001;
}

.addchapter:hover,
.addresource:hover {
    background: var(--term-active-accent, #1e88e5);
    border-color: var(--term-active-accent, #1e88e5);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(var(--term-color-rgb, 43, 93, 138), 0.3);
}

.addchapter:active,
.addresource:active {
    transform: translateY(0);
    box-shadow: 0 2px 10px rgba(var(--term-color-rgb, 43, 93, 138), 0.4);
}

/* Chapters and Resources Lists */
.chapters-list,
.resources-list {
    background: rgba(255, 255, 255, 0.9);
    border-radius: 15px;
    padding: 20px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    min-height: 200px;
}

.chapters-list:empty::after,
.resources-list:empty::after {
    content: 'No items yet. Click the button above to add your first item!';
    display: block;
    text-align: center;
    color: #888;
    font-family: 'LeagueSpartan';
    font-size: 16px;
    padding: 40px 20px;
    font-style: italic;
}

/* Chapter and Resource Items */
.chapter,
.resource {
    background: linear-gradient(135deg, #ffffff, #f8f9fa);
    border: 2px solid var(--term-color, #2b5d8a);
    border-radius: 15px;
    padding: 20px;
    margin-bottom: 15px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
}

.chapter:hover,
.resource:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(var(--term-color-rgb, 43, 93, 138), 0.15);
}

.chapter h3,
.resource h3 {
    font-family: 'Excalifont';
    font-size: 18px;
    color: var(--term-color, #2b5d8a);
    margin: 0 0 10px 0;
}

.chapter .chapter-info,
.resource .resource-info {
    font-family: 'LeagueSpartan';
    font-size: 14px;
    color: #666;
    margin-bottom: 15px;
}

.chapter .chapter-actions,
.resource .resource-actions {
    display: flex;
    gap: 10px;
}

.chapter .chapter-actions button,
.resource .resource-actions button {
    padding: 8px 16px;
    border: 2px solid var(--term-color, #2b5d8a);
    background: transparent;
    color: var(--term-color, #2b5d8a);
    border-radius: 12px;
    cursor: pointer;
    font-family: 'LeagueSpartan';
    font-size: 14px;
    transition: all 0.3s ease;
}

.chapter .chapter-actions button:hover,
.resource .resource-actions button:hover {
    background: var(--term-color, #2b5d8a);
    color: white;
    transform: translateY(-1px);
}

.flashcard-sets {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 25px;
}

.flashcard-set {
    background: white;
    border: 2px solid var(--term-color, #2b5d8a);
    border-radius: 20px;
    padding: 25px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
}

.flashcard-set:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
}

.set-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 20px;
}

.set-info h4 {
    font-family: 'Excalifont';
    font-size: 20px;
    margin: 0 0 8px 0;
    color: var(--term-color, #2b5d8a);
}

.set-info .set-subject {
    font-family: 'LeagueSpartan';
    font-size: 14px;
    color: #666;
    background: rgba(var(--term-color-rgb, 43, 93, 138), 0.1);
    padding: 4px 12px;
    border-radius: 15px;
    display: inline-block;
}

.set-info .set-description {
    font-family: 'LeagueSpartan';
    font-size: 14px;
    color: #888;
    margin-top: 8px;
    line-height: 1.4;
}

.set-stats {
    text-align: right;
}

.set-stats .card-count {
    font-family: 'Excalifont';
    font-size: 24px;
    color: var(--term-color, #2b5d8a);
    margin: 0;
}

.set-stats .count-label {
    font-family: 'LeagueSpartan';
    font-size: 12px;
    color: #666;
    margin: 0;
}

.set-actions {
    display: flex;
    gap: 10px;
    margin-top: 20px;
}

.set-actions button {
    padding: 8px 16px;
    border: 2px solid var(--term-color, #2b5d8a);
    background: transparent;
    color: var(--term-color, #2b5d8a);
    border-radius: 15px;
    cursor: pointer;
    font-family: 'LeagueSpartan';
    font-size: 14px;
    transition: all 0.3s ease;
    flex: 1;
    position: relative;
    z-index: 1001;
    user-select: none;
}

.set-actions button:hover {
    background: var(--term-color, #2b5d8a);
    color: white;
    transform: translateY(-2px);
}

.set-actions button:active {
    transform: translateY(0);
}

.set-actions .study-btn {
    background: var(--term-color, #2b5d8a);
    color: white;
}

.set-actions .study-btn:hover {
    background: var(--term-active-accent, #1e88e5);
    border-color: var(--term-active-accent, #1e88e5);
}

.set-actions .add-card-btn {
    background: transparent;
    color: var(--term-color, #2b5d8a);
}

.set-actions .add-card-btn:hover {
    background: var(--term-color, #2b5d8a);
    color: white;
}

.set-actions .delete-set-btn {
    border-color: #f44336;
    color: #f44336;
}

.set-actions .delete-set-btn:hover {
    background: #f44336;
    color: white;
}

.empty-state {
    text-align: center;
    padding: 60px 20px;
    color: #888;
    font-family: 'LeagueSpartan';
    font-size: 18px;
    background: linear-gradient(135deg, #ffffff, #f8f9fa);
    border: 2px dashed var(--term-color, #2b5d8a);
    border-radius: 20px;
    margin: 20px 0;
}

.empty-state::before {
    content: '';
    font-size: 48px;
    display: block;
    margin-bottom: 20px;
}

.flashcard-deck {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.flashcard {
    position: relative;
    height: 200px;
    perspective: 1000px;
    cursor: pointer;
}

.flashcard-inner {
    position: relative;
    width: 100%;
    height: 100%;
    text-align: center;
    transition: transform 0.6s;
    transform-style: preserve-3d;
}

.flashcard.flipped .flashcard-inner {
    transform: rotateY(180deg);
}

.flashcard-front, .flashcard-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px;
    border-radius: 15px;
    background: linear-gradient(135deg, #ffffff, #f8f9fa);
    border: 3px solid var(--term-color, #2b5d8a);
    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
}

.flashcard-back {
    transform: rotateY(180deg);
    background: linear-gradient(135deg, #e3f2fd, #bbdefb);
}

.flashcard-front p, .flashcard-back p {
    font-family: 'Excalifont';
    font-size: 18px;
    margin: 0 0 15px 0;
    line-height: 1.4;
    color: #333;
}

.flip-btn {
    padding: 8px 16px;
    border: 2px solid var(--term-color, #2b5d8a);
    background: transparent;
    color: var(--term-color, #2b5d8a);
    border-radius: 20px;
    cursor: pointer;
    font-family: 'Excalifont';
    font-size: 14px;
    transition: all 0.3s ease;
}

.flip-btn:hover {
    background: var(--term-color, #2b5d8a);
    color: white;
    transform: translateY(-2px);
}

.delete-card-btn {
    position: absolute;
    top: -10px;
    right: -10px;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: linear-gradient(135deg, #f44336, #d32f2f);
    color: white;
    border: none;
    cursor: pointer;
    font-size: 18px;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 12px rgba(244, 67, 54, 0.4);
    transition: all 0.3s ease;
}

.delete-card-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 16px rgba(244, 67, 54, 0.6);
}

/* Blurting */
.blurting-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
}

.blurting-controls {
    display: flex;
    gap: 15px;
    margin-bottom: 30px;
    justify-content: center;
    flex-wrap: wrap;
}

.blurting-timer {
    text-align: center;
    margin-bottom: 30px;
    font-family: 'Excalifont';
    font-size: 48px;
    color: var(--term-color, #2b5d8a);
}

.blurting-area {
    margin-top: 20px;
}

#blurtingText {
    width: 100%;
    min-height: 400px;
    padding: 20px;
    border: 3px solid var(--term-color, #2b5d8a);
    border-radius: 15px;
    font-family: 'Excalifont';
    font-size: 16px;
    line-height: 1.6;
    resize: vertical;
    background: linear-gradient(135deg, #ffffff, #f8f9fa);
    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
}

#blurtingText:focus {
    outline: none;
    border-color: var(--term-active-accent, #1e88e5);
    box-shadow: 0 0 0 3px rgba(var(--term-color-rgb, 43, 93, 138), 0.1);
}

/* Dark mode for tools */
body.dark-mode .flashcard-front,
body.dark-mode .flashcard-back {
    background: #1e1e1e !important;
    color: #eaeaea !important;
    border-color: var(--term-color, #2b5d8a) !important;
}

body.dark-mode .flashcard-front p,
body.dark-mode .flashcard-back p {
    color: #eaeaea !important;
}

body.dark-mode #blurtingText {
    background: #1e1e1e !important;
    color: #eaeaea !important;
    border-color: var(--term-color, #2b5d8a) !important;
}

/* Blackout mode for tools */
body.blackout-mode .flashcard-front,
body.blackout-mode .flashcard-back {
    background: #000 !important;
    color: #fff !important;
    border-color: #333 !important;
}

body.blackout-mode .flashcard-front p,
body.blackout-mode .flashcard-back p {
    color: #fff !important;
}

body.blackout-mode #blurtingText {
    background: #000 !important;
    color: #fff !important;
    border-color: #333 !important;
}

/* Responsive design for tools */
@media (max-width: 768px) {
    .tools-overview {
        grid-template-columns: 1fr;
        gap: 20px;
        width: 90%;
        top: 150px;
    }
    
    .tool-content-area {
        width: 90%;
        top: 150px;
    }
    
    .tool-card {
        padding: 25px;
    }
    
    .tool-icon {
        font-size: 36px;
    }
    
    .tool-card h3 {
        font-size: 20px;
    }
    
    .tool-card p {
        font-size: 14px;
    }
    
    .tool-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
    }
    
    .tool-header h2 {
        font-size: 24px;
    }
    
    .flashcard-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
    }
    
    .flashcard-sets {
        grid-template-columns: 1fr;
        gap: 20px;
    }
    
    .set-actions {
        flex-direction: column;
    }
    
    .blurting-timer {
        font-size: 36px;
    }
    
    #blurtingText {
        min-height: 300px;
        padding: 15px;
    }
    
    .pomocard {
        padding: 20px;
        min-height: 300px;
    }
    
    .timer-display {
        font-size: 80px;
    }
    
    /* Subject pages mobile responsiveness */
    .curriculum-content,
    .resources-content {
        width: 90%;
        top: 150px;
    }
    
    .curriculum-header,
    .resources-header {
        flex-direction: column;
        text-align: center;
        gap: 15px;
    }
    
    .curriculum-header h1,
    .resources-header h1 {
        font-size: 24px;
    }
    
    .addchapter,
    .addresource {
        width: 100%;
        max-width: 200px;
    }
    
    .chapters-list,
    .resources-list {
        padding: 15px;
    }
    
    .chapter,
    .resource {
        padding: 15px;
    }
    
    .chapter .chapter-actions,
    .resource .resource-actions {
        flex-direction: column;
        gap: 8px;
    }
    
    .chapter .chapter-actions button,
    .resource .resource-actions button {
        width: 100%;
    }
    
    /* Study mode mobile responsiveness */
    .study-mode {
        padding: 20px;
    }
    
    .study-header h2 {
        font-size: 24px;
    }
    
    .flashcard {
        width: 100%;
        max-width: 350px;
        height: 200px;
    }
    
    .flashcard-front p,
    .flashcard-back p {
        font-size: 18px;
    }
    
    .study-controls {
        flex-direction: column;
        align-items: center;
        gap: 15px;
    }
    
    .study-controls .study-btn {
        width: 100%;
        max-width: 200px;
    }
}

/* Analytics Page Styles */
.analytics-overview {
  display: flex;
  gap: 20px;
  margin: 160px auto 30px;
  width: 90%;
  max-width: 1200px;
  justify-content: center;
}

.analytics-card {
  background: white;
  border-radius: 15px;
  padding: 25px;
  text-align: center;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  border: 2px solid var(--term-color, grey);
  flex: 1;
  max-width: 200px;
}

.analytics-card h3 {
  margin: 0 0 15px 0;
  color: var(--term-color, grey);
  font-family: 'Excalifont';
  font-size: 18px;
}

.hours-display {
  font-size: 48px;
  font-weight: bold;
  color: var(--term-color, grey);
  font-family: 'Excalifont';
  margin: 10px 0;
}

.goal-section {
  width: 90%;
  max-width: 1200px;
  margin: 30px auto;
}

.goal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.goal-header h2 {
  color: var(--term-color, grey);
  font-family: 'Excalifont';
  margin: 0;
}

.goal-btn {
  background: var(--term-color, grey);
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 25px;
  font-family: 'Excalifont';
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

.goal-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 15px rgba(0,0,0,0.3);
}

.goal-cards {
  display: flex;
  gap: 30px;
  justify-content: center;
}

.goal-card {
  background: white;
  border-radius: 15px;
  padding: 25px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  border: 2px solid var(--term-color, grey);
  flex: 1;
  max-width: 400px;
}

.goal-card h3 {
  margin: 0 0 20px 0;
  color: var(--term-color, grey);
  font-family: 'Excalifont';
  text-align: center;
}

.goal-progress {
  text-align: center;
}

.progress-bar {
  width: 100%;
  height: 12px;
  background: #e0e0e0;
  border-radius: 6px;
  overflow: hidden;
  margin-bottom: 10px;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--term-color, grey), rgba(var(--term-color-rgb), 0.8));
  border-radius: 6px;
  transition: width 0.5s ease;
}

.progress-text {
  font-family: 'Excalifont';
  font-weight: bold;
  color: var(--term-color, grey);
}

.subject-analytics {
  width: 90%;
  max-width: 1200px;
  margin: 40px auto;
}

.subject-analytics h2 {
  color: var(--term-color, grey);
  font-family: 'Excalifont';
  text-align: center;
  margin-bottom: 30px;
}

.subject-hours-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
}

.subject-hour-card {
  background: white;
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  border: 2px solid var(--term-color, grey);
  text-align: center;
}

.subject-hour-card h4 {
  margin: 0 0 15px 0;
  color: var(--term-color, grey);
  font-family: 'Excalifont';
  font-size: 16px;
}

.subject-hours {
  font-size: 32px;
  font-weight: bold;
  color: var(--term-color, grey);
  font-family: 'Excalifont';
  margin-bottom: 15px;
}

.subject-bar {
  width: 100%;
  height: 8px;
  background: #e0e0e0;
  border-radius: 4px;
  overflow: hidden;
}

.subject-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--term-color, grey), rgba(var(--term-color-rgb), 0.6));
  border-radius: 4px;
  transition: width 0.5s ease;
}

.chart-section {
  width: 90%;
  max-width: 1200px;
  margin: 40px auto;
}

.chart-section h2 {
  color: var(--term-color, grey);
  font-family: 'Excalifont';
  text-align: center;
  margin-bottom: 30px;
}

.chart-container {
  background: white;
  border-radius: 15px;
  padding: 30px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  border: 2px solid var(--term-color, grey);
}

.chart-placeholder {
  text-align: center;
  padding: 40px;
  color: #666;
  font-family: 'Excalifont';
}

.chart-bars {
  display: flex;
  justify-content: space-around;
  align-items: end;
  height: 200px;
  padding: 20px 0;
}

.chart-bar {
  display: flex;
  flex-direction: column;
  align-items: center;
  flex: 1;
  max-width: 80px;
}

.bar-fill {
  width: 40px;
  background: linear-gradient(180deg, var(--term-color, grey), rgba(var(--term-color-rgb), 0.8));
  border-radius: 4px 4px 0 0;
  margin-bottom: 10px;
  transition: height 0.5s ease;
  min-height: 5px;
}

.bar-label {
  font-family: 'Excalifont';
  font-size: 12px;
  color: var(--term-color, grey);
  margin-bottom: 5px;
}

.bar-value {
  font-family: 'Excalifont';
  font-size: 11px;
  color: #666;
  font-weight: bold;
}

/* Goal Modal Styles */
#goalModal .modal-content {
  max-width: 500px;
}

#goalModal .form-group {
  margin-bottom: 20px;
}

#goalModal label {
  display: block;
  margin-bottom: 8px;
  font-family: 'Excalifont';
  font-weight: bold;
  color: var(--term-color, grey);
}

#goalModal input[type="number"] {
  width: 100%;
  padding: 12px;
  border: 2px solid #ddd;
  border-radius: 8px;
  font-size: 16px;
  font-family: 'Excalifont';
  box-sizing: border-box;
}

#goalModal input[type="number"]:focus {
  outline: none;
  border-color: var(--term-color, grey);
}

/* Analytics Responsive Design */
@media (max-width: 768px) {
  .analytics-overview {
    flex-direction: column;
    align-items: center;
  }
  
  .analytics-card {
    max-width: 100%;
  }
  
  .goal-cards {
    flex-direction: column;
  }
  
  .subject-hours-grid {
    grid-template-columns: 1fr;
  }
  
  .chart-bars {
    height: 150px;
  }
  
  .hours-display {
    font-size: 36px;
  }
}

/* Dynamic Subject Management Styles */
.dynamic-subjects-section {
  width: 90%;
  max-width: 1200px;
  margin: 160px auto 50px;
}

.subjects-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 30px;
}

.subjects-header h2 {
  color: var(--term-color, grey);
  font-family: 'Excalifont';
  margin: 0;
  font-size: 32px;
}

.add-subject-btn {
  background: var(--term-color, grey);
  color: white;
  border: none;
  padding: 15px 30px;
  border-radius: 25px;
  font-family: 'Excalifont';
  font-weight: bold;
  font-size: 18px;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}

.add-subject-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(0,0,0,0.3);
}

.subjects-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 25px;
}

.subject-card {
  background: white;
  border-radius: 15px;
  padding: 25px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.1);
  border: 3px solid var(--subject-color, grey);
  transition: all 0.3s ease;
}

.subject-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 30px rgba(0,0,0,0.15);
}

.subject-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.subject-header h3 {
  margin: 0;
  font-family: 'Excalifont';
  font-size: 24px;
  font-weight: bold;
}

.subject-actions {
  display: flex;
  gap: 10px;
}

.edit-subject-btn,
.delete-subject-btn {
  background: none;
  border: none;
  font-size: 18px;
  cursor: pointer;
  padding: 8px;
  border-radius: 50%;
  transition: all 0.3s ease;
}

.edit-subject-btn:hover {
  background: rgba(0,0,0,0.1);
  transform: scale(1.1);
}

.delete-subject-btn:hover {
  background: rgba(255,0,0,0.1);
  transform: scale(1.1);
}

.subject-links {
  display: flex;
  gap: 15px;
}

.subject-link {
  flex: 1;
  padding: 12px 20px;
  text-decoration: none;
  color: white;
  border-radius: 10px;
  text-align: center;
  font-family: 'Excalifont';
  font-weight: bold;
  transition: all 0.3s ease;
}

.subject-link:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

.no-subjects {
  grid-column: 1 / -1;
  text-align: center;
  padding: 60px 20px;
  color: #666;
  font-family: 'Excalifont';
  font-size: 18px;
}

/* Subject Modal Styles */
#subjectModal .modal-content {
  max-width: 600px;
}

.color-picker-container {
  margin-top: 10px;
}

.color-picker-container input[type="color"] {
  width: 60px;
  height: 40px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  margin-bottom: 15px;
}

.preset-colors {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 10px;
  margin-top: 10px;
}

.color-preset {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  cursor: pointer;
  border: 3px solid transparent;
  transition: all 0.3s ease;
}

.color-preset:hover,
.color-preset.selected {
  border-color: #333;
  transform: scale(1.1);
}


/* Enhanced Subject Button Styles */
.subject-btn {
  border-color: var(--subject-color, grey) !important;
}

.subject-btn:hover {
  background: var(--subject-color, grey) !important;
  color: white !important;
}

.subject-btn.selected {
  background: var(--subject-color, grey) !important;
  color: white !important;
}

/* Responsive Design for Subject Management */
@media (max-width: 768px) {
  .subjects-header {
    flex-direction: column;
    align-items: stretch;
    gap: 20px;
  }
  
  .subjects-header h2 {
    text-align: center;
    font-size: 28px;
  }
  
  .subjects-grid {
    grid-template-columns: 1fr;
    gap: 20px;
  }
  
  .subject-links {
    flex-direction: column;
    gap: 10px;
  }
  
  .preset-colors {
    grid-template-columns: repeat(4, 1fr);
  }
}

/* Curriculum Items Styles */
.curriculum-item {
  background: white;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 15px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  border-left: 4px solid var(--term-color, grey);
  transition: all 0.3s ease;
}

.curriculum-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 15px rgba(0,0,0,0.15);
}

.curriculum-item.lesson {
  border-left-color: #4CAF50;
}

.curriculum-item.chapter {
  border-left-color: #2196F3;
}

/* Add Chapter Button - Blue Theme */
.addchapter {
  background: #2196F3 !important;
  color: white !important;
}

.addchapter:hover {
  background: #1976D2 !important;
}

.item-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.item-header h4 {
  margin: 0;
  color: var(--term-color, grey);
  font-family: 'Excalifont';
  font-size: 18px;
}

.item-type {
  background: var(--term-color, grey);
  color: white;
  padding: 4px 12px;
  border-radius: 15px;
  font-size: 12px;
  font-weight: bold;
  text-transform: uppercase;
  font-family: 'Excalifont';
}

.item-description {
  color: #666;
  margin: 10px 0;
  font-size: 14px;
  line-height: 1.4;
}

.item-status {
  display: inline-block;
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: bold;
  font-family: 'Excalifont';
  text-transform: uppercase;
}

.status-not-started {
  background: #ffebee;
  color: #c62828;
}

.status-in-progress {
  background: #fff3e0;
  color: #ef6c00;
}

.status-completed {
  background: #e8f5e8;
  color: #2e7d32;
}

/* Modal textarea styles for lesson/chapter modals */
.modal textarea {
  width: 100%;
  min-height: 80px;
  padding: 12px;
  border: 2px solid #ddd;
  border-radius: 8px;
  font-family: 'Excalifont';
  font-size: 14px;
  resize: vertical;
  box-sizing: border-box;
}

.modal textarea:focus {
  outline: none;
  border-color: var(--term-color, grey);
}

/* Chapter-Lesson Structure Styles */
.chapter-lessons {
  margin-top: 15px;
  padding-left: 20px;
  border-left: 2px solid #e0e0e0;
}

.lesson-item {
  background: #f8f9fa;
  border-radius: 8px;
  padding: 15px;
  margin-bottom: 10px;
  border-left: 3px solid #4CAF50;
}

.lesson-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.lesson-header h5 {
  margin: 0;
  color: #333;
  font-family: 'Excalifont';
  font-size: 16px;
}

.lesson-type {
  background: #4CAF50;
  font-size: 10px;
}

.lesson-description {
  color: #666;
  margin: 8px 0 0 0;
  font-size: 13px;
  line-height: 1.4;
}

/* Mastery Percentage Styles */
.mastery-percentage {
  background: var(--term-color, grey);
  color: white;
  padding: 8px 16px;
  border-radius: 25px;
  font-size: 16px;
  font-weight: bold;
  font-family: 'Excalifont';
  cursor: pointer;
  transition: all 0.3s ease;
  min-width: 60px;
  text-align: center;
}

.mastery-percentage:hover {
  transform: scale(1.1);
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

.lesson-mastery {
  font-size: 14px;
  padding: 6px 12px;
  min-width: 50px;
}

/* Mastery Modal Styles */
.mastery-modal-content {
  max-width: 600px;
}

.mastery-stats-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
  margin: 20px 0;
}

.mastery-stat {
  background: #f8f9fa;
  border-radius: 12px;
  padding: 20px;
  text-align: center;
  border: 2px solid var(--term-color, grey);
}

.stat-number {
  font-size: 32px;
  font-weight: bold;
  color: var(--term-color, grey);
  font-family: 'Excalifont';
  margin-bottom: 5px;
}

.stat-label {
  font-size: 14px;
  color: #666;
  font-family: 'Excalifont';
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.practice-btn {
  background: #4CAF50;
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 25px;
  font-family: 'Excalifont';
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
  margin-right: 10px;
}

.practice-btn:hover {
  background: #45a049;
  transform: translateY(-2px);
}

.close-modal-btn {
  background: #666;
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 25px;
  font-family: 'Excalifont';
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
}

.close-modal-btn:hover {
  background: #555;
  transform: translateY(-2px);
}

/* Responsive mastery stats */
@media (max-width: 768px) {
  .mastery-stats-grid {
    grid-template-columns: 1fr;
    gap: 15px;
  }
  
  .mastery-percentage {
    font-size: 14px;
    padding: 6px 12px;
  }
  
  .stat-number {
    font-size: 24px;
  }
}

/* Resource Management Styles */
.resource-type-selector {
  display: flex;
  gap: 20px;
  margin: 10px 0;
}

.radio-option {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  font-family: 'Excalifont';
  font-weight: bold;
}

.radio-option input[type="radio"] {
  margin: 0;
}

.file-info {
  font-size: 12px;
  color: #666;
  margin-top: 5px;
  font-style: italic;
}

.resource-item {
  background: white;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 15px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  border-left: 4px solid var(--term-color, grey);
  transition: all 0.3s ease;
}

.resource-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 15px rgba(0,0,0,0.15);
}

.resource-item.file {
  border-left-color: #FF9800;
}

.resource-item.link {
  border-left-color: #2196F3;
}

.resource-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
}

.resource-header h4 {
  margin: 0;
  color: var(--term-color, grey);
  font-family: 'Excalifont';
  font-size: 18px;
}

.resource-type-badge {
  padding: 6px 12px;
  border-radius: 15px;
  font-size: 12px;
  font-weight: bold;
  text-transform: uppercase;
  font-family: 'Excalifont';
}

.resource-type-badge.file {
  background: #FFF3E0;
  color: #FF9800;
}

.resource-type-badge.link {
  background: #E3F2FD;
  color: #2196F3;
}

.resource-content {
  margin-bottom: 15px;
}

.file-info {
  display: flex;
  gap: 15px;
  margin-bottom: 10px;
}

.file-name {
  font-weight: bold;
  color: #333;
}

.file-size {
  color: #666;
  font-size: 14px;
}

.view-file-btn {
  background: #FF9800;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 20px;
  font-family: 'Excalifont';
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
}

.view-file-btn:hover {
  background: #F57C00;
  transform: translateY(-1px);
}

.resource-link-btn {
  background: #2196F3;
  color: white;
  text-decoration: none;
  padding: 8px 16px;
  border-radius: 20px;
  font-family: 'Excalifont';
  font-weight: bold;
  display: inline-block;
  transition: all 0.3s ease;
}

.resource-link-btn:hover {
  background: #1976D2;
  transform: translateY(-1px);
}

.resource-actions {
  display: flex;
  justify-content: flex-end;
}

.delete-resource-btn {
  background: none;
  border: none;
  font-size: 16px;
  cursor: pointer;
  padding: 8px;
  border-radius: 50%;
  transition: all 0.3s ease;
}

.delete-resource-btn:hover {
  background: rgba(255,0,0,0.1);
  transform: scale(1.1);
}

/* Resource Modal Styles */
#resourceModal .modal-content {
  max-width: 550px;
}

#resourceModal input[type="file"] {
  width: 100%;
  padding: 12px;
  border: 2px dashed #ddd;
  border-radius: 8px;
  font-family: 'Excalifont';
  background: #f9f9f9;
  cursor: pointer;
}

#resourceModal input[type="file"]:hover {
  border-color: var(--term-color, grey);
  background: #f0f0f0;
}

#resourceModal input[type="url"] {
  width: 100%;
  padding: 12px;
  border: 2px solid #ddd;
  border-radius: 8px;
  font-size: 16px;
  font-family: 'Excalifont';
  box-sizing: border-box;
}

#resourceModal input[type="url"]:focus {
  outline: none;
  border-color: var(--term-color, grey);
}

/* Assignment Urgency Styles */
.assignment-item {
  border-radius: 8px;
  padding: 15px;
  margin-bottom: 10px;
  transition: all 0.3s ease;
}

.assignment-item.urgency-low {
  border-left: 4px solid #4CAF50;
  background: #f1f8e9;
}

.assignment-item.urgency-medium {
  border-left: 4px solid #FF9800;
  background: #fff8e1;
}

.assignment-item.urgency-high {
  border-left: 4px solid #FF5722;
  background: #fce4ec;
}

.assignment-item.urgency-critical {
  border-left: 4px solid #F44336;
  background: #ffebee;
  animation: pulse-critical 2s infinite;
}

@keyframes pulse-critical {
  0% { box-shadow: 0 0 0 0 rgba(244, 67, 54, 0.4); }
  70% { box-shadow: 0 0 0 10px rgba(244, 67, 54, 0); }
  100% { box-shadow: 0 0 0 0 rgba(244, 67, 54, 0); }
}

.urgency-badge {
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: bold;
  text-transform: uppercase;
  font-family: 'Excalifont';
}

.urgency-low {
  background: #4CAF50;
  color: white;
}

.urgency-medium {
  background: #FF9800;
  color: white;
}

.urgency-high {
  background: #FF5722;
  color: white;
}

.urgency-critical {
  background: #F44336;
  color: white;
}

/* AI Quiz Tool Styles */
.quiz-setup-container {
  width: 90%;
  max-width: 800px;
  margin: 160px auto 50px;
}

.quiz-setup-container h1 {
  text-align: center;
  color: var(--term-color, grey);
  font-family: 'Excalifont';
  margin-bottom: 40px;
  font-size: 36px;
}

.quiz-step {
  background: white;
  border-radius: 15px;
  padding: 30px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.1);
  border: 2px solid var(--term-color, grey);
  margin-bottom: 30px;
}

.quiz-step h2 {
  color: var(--term-color, grey);
  font-family: 'Excalifont';
  margin-bottom: 25px;
  font-size: 24px;
}

.subject-selector {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
}

.subject-option {
  display: flex;
  align-items: center;
  gap: 15px;
  padding: 20px;
  border: 2px solid #ddd;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s ease;
  background: white;
}

.subject-option:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}

.subject-option.selected {
  border-color: var(--term-color, grey);
  background: rgba(var(--term-color-rgb), 0.1);
}

.subject-color {
  width: 20px;
  height: 20px;
  border-radius: 50%;
}

.subject-name {
  font-family: 'Excalifont';
  font-weight: bold;
  font-size: 16px;
}

.selection-header {
  display: flex;
  gap: 15px;
  margin-bottom: 20px;
}

.select-all-btn, .clear-all-btn {
  padding: 8px 16px;
  border: none;
  border-radius: 20px;
  font-family: 'Excalifont';
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
}

.select-all-btn {
  background: #4CAF50;
  color: white;
}

.clear-all-btn {
  background: #f44336;
  color: white;
}

.select-all-btn:hover, .clear-all-btn:hover {
  transform: translateY(-1px);
}

.chapter-selector, .lesson-selector {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 15px;
}

.selection-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 15px;
  border: 2px solid #ddd;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.3s ease;
  background: white;
}

.selection-item:hover {
  border-color: var(--term-color, grey);
  background: rgba(var(--term-color-rgb), 0.05);
}

.selection-item input[type="checkbox"] {
  margin: 0;
  transform: scale(1.2);
}

.item-content {
  flex: 1;
}

.item-title {
  display: block;
  font-family: 'Excalifont';
  font-weight: bold;
  font-size: 16px;
  margin-bottom: 5px;
}

.item-subtitle {
  display: block;
  font-size: 12px;
  color: #666;
  margin-bottom: 5px;
}

.mastery-display {
  display: block;
  font-size: 12px;
  color: var(--term-color, grey);
  font-weight: bold;
}

.quiz-options {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 25px;
}

.option-group {
  background: #f8f9fa;
  padding: 20px;
  border-radius: 10px;
  border: 2px solid #e0e0e0;
}

.option-group label {
  display: block;
  font-family: 'Excalifont';
  font-weight: bold;
  margin-bottom: 15px;
  color: var(--term-color, grey);
}

.option-group select {
  width: 100%;
  padding: 10px;
  border: 2px solid #ddd;
  border-radius: 6px;
  font-family: 'Excalifont';
  font-size: 14px;
}

.checkbox-group {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.checkbox-option {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  font-family: 'Excalifont';
  font-weight: normal;
}

.quiz-actions {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-top: 30px;
}

.generate-quiz-btn {
  background: var(--term-color, grey);
  color: white;
  border: none;
  padding: 15px 30px;
  border-radius: 25px;
  font-family: 'Excalifont';
  font-weight: bold;
  font-size: 18px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.generate-quiz-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0,0,0,0.3);
}

.reset-btn {
  background: #666;
  color: white;
  border: none;
  padding: 15px 30px;
  border-radius: 25px;
  font-family: 'Excalifont';
  font-weight: bold;
  font-size: 18px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.step-navigation {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-top: 30px;
}

.nav-btn {
  padding: 12px 24px;
  border: 2px solid var(--term-color, grey);
  background: white;
  color: var(--term-color, grey);
  border-radius: 25px;
  font-family: 'Excalifont';
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
}

.nav-btn:hover {
  background: var(--term-color, grey);
  color: white;
}

/* Quiz Modal Styles */
.quiz-modal-content {
  max-width: 700px;
  max-height: 80vh;
  overflow-y: auto;
}

.quiz-question {
  background: #f8f9fa;
  padding: 20px;
  border-radius: 10px;
  margin-bottom: 20px;
  border-left: 4px solid var(--term-color, grey);
}

.quiz-question h3 {
  margin: 0 0 10px 0;
  color: var(--term-color, grey);
  font-family: 'Excalifont';
}

.question-text {
  font-size: 16px;
  margin-bottom: 15px;
  line-height: 1.4;
}

.mcq-options {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.mcq-option {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px;
  border: 2px solid #ddd;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.mcq-option:hover {
  border-color: var(--term-color, grey);
  background: rgba(var(--term-color-rgb), 0.05);
}

.text-answer textarea {
  width: 100%;
  padding: 12px;
  border: 2px solid #ddd;
  border-radius: 6px;
  font-family: 'Excalifont';
  resize: vertical;
  box-sizing: border-box;
}

.submit-quiz-btn {
  background: #4CAF50;
  color: white;
  border: none;
  padding: 15px 30px;
  border-radius: 25px;
  font-family: 'Excalifont';
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
  margin-right: 15px;
}

.submit-quiz-btn:hover {
  background: #45a049;
  transform: translateY(-2px);
}

/* Results Modal Styles */
.results-modal-content {
  max-width: 600px;
}

.score-display {
  text-align: center;
  margin-bottom: 30px;
}

.score-circle {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 120px;
  height: 120px;
  border-radius: 50%;
  border: 6px solid;
  margin: 20px 0;
}

.score-circle.excellent {
  border-color: #4CAF50;
  background: rgba(76, 175, 80, 0.1);
}

.score-circle.good {
  border-color: #FF9800;
  background: rgba(255, 152, 0, 0.1);
}

.score-circle.needs-improvement {
  border-color: #f44336;
  background: rgba(244, 67, 54, 0.1);
}

.score-number {
  font-size: 24px;
  font-weight: bold;
  font-family: 'Excalifont';
}

.score-text {
  font-size: 14px;
  font-family: 'Excalifont';
}

.score-breakdown, .mastery-update {
  background: #f8f9fa;
  padding: 20px;
  border-radius: 10px;
  margin-bottom: 20px;
}

.breakdown-item {
  display: flex;
  justify-content: space-between;
  padding: 8px 0;
  border-bottom: 1px solid #ddd;
  font-family: 'Excalifont';
}

.mastery-update ul {
  margin: 10px 0;
  padding-left: 20px;
}

.mastery-update li {
  margin-bottom: 5px;
  font-family: 'Excalifont';
}

/* Theme Management Styles */
.theme-setting {
  margin-top: 0;
  position: relative;
  overflow: visible;
  display: flex;
  flex-direction: column;
  padding: 20px;
  border: 2px solid #ddd;
  border-radius: 15px;
  background: white;
  height: auto;
}

.theme-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  width: 100%;
  position: relative;
  z-index: 10;
}

.theme-header h3 {
  margin: 0;
  flex: 1;
}

.theme-header .create-theme-btn {
  margin-left: 20px;
  flex-shrink: 0;
  padding: 12px 20px;
  font-size: 14px;
  font-weight: bold;
  position: relative;
  z-index: 20;
  white-space: nowrap;
}

.theme-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 12px;
  margin: 0;
  width: 100%;
  box-sizing: border-box;
  position: relative;
  z-index: 1;
  clear: both;
  grid-auto-rows: min-content;
}

.theme-option {
  border: 3px solid #ddd;
  border-radius: 8px;
  padding: 12px;
  cursor: pointer;
  transition: all 0.3s ease;
  background: white;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  min-height: 120px;
}

.theme-option:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 20px rgba(0,0,0,0.15);
}

.theme-option.selected {
  border-color: var(--term-color, grey);
  box-shadow: 0 0 0 2px rgba(var(--term-color-rgb), 0.3);
}

.theme-preview {
  border-radius: 6px;
  overflow: hidden;
  margin-bottom: 8px;
  height: 50px;
  border: 1px solid #ddd;
}

.preview-header {
  height: 25px;
  display: flex;
  align-items: center;
  padding: 0 10px;
  font-size: 12px;
  font-weight: bold;
  color: white;
}

.preview-content {
  height: 55px;
  padding: 8px;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.preview-element {
  height: 15px;
  border-radius: 3px;
  width: 60%;
}

.preview-text {
  font-size: 10px;
  font-weight: bold;
}

.theme-info {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.theme-name {
  font-family: 'Excalifont';
  font-weight: bold;
  font-size: 12px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
  line-height: 1.2;
}

.delete-theme-btn {
  background: none;
  border: none;
  font-size: 16px;
  cursor: pointer;
  padding: 4px;
  border-radius: 50%;
  transition: all 0.3s ease;
}

.delete-theme-btn:hover {
  background: rgba(255,0,0,0.1);
  transform: scale(1.1);
}

.create-theme-btn {
  background: var(--term-color, grey);
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 25px;
  font-family: 'Excalifont';
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
}

.create-theme-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 15px rgba(0,0,0,0.3);
}

/* Theme Modal Styles */
.theme-modal-content {
  max-width: 700px;
}

.color-inputs {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 15px;
  margin: 20px 0;
}

.color-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.color-group label {
  font-family: 'Excalifont';
  font-weight: bold;
  color: var(--term-color, grey);
}

.color-group input[type="color"] {
  width: 100%;
  height: 50px;
  border: 2px solid #ddd;
  border-radius: 8px;
  cursor: pointer;
}

.color-preview {
  padding: 8px 12px;
  border-radius: 6px;
  font-family: 'Excalifont';
  font-weight: bold;
  text-align: center;
  font-size: 12px;
}

.theme-preview-section {
  margin: 25px 0;
  padding: 20px;
  background: #f8f9fa;
  border-radius: 10px;
}

.theme-preview-section h3 {
  margin: 0 0 15px 0;
  font-family: 'Excalifont';
  color: var(--term-color, grey);
}

.live-preview {
  border-radius: 8px;
  overflow: hidden;
  height: 100px;
  border: 2px solid #ddd;
}

.live-preview .preview-header {
  background: var(--preview-primary, #2B5D8A);
  height: 30px;
  display: flex;
  align-items: center;
  padding: 0 15px;
  color: white;
  font-weight: bold;
}

.live-preview .preview-content {
  background: var(--preview-background, #f0f2f5);
  color: var(--preview-text, #333);
  height: 70px;
  padding: 10px 15px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.live-preview .preview-card {
  background: white;
  padding: 8px 12px;
  border-radius: 6px;
  border-left: 4px solid var(--preview-primary, #2B5D8A);
  font-size: 12px;
  font-weight: bold;
}

.live-preview .preview-button {
  background: var(--preview-secondary, #1976D2);
  color: white;
  padding: 6px 12px;
  border-radius: 15px;
  font-size: 11px;
  font-weight: bold;
  width: fit-content;
}

/* Responsive theme grid */
@media (max-width: 1200px) {
  .theme-grid {
    grid-template-columns: repeat(5, 1fr);
    gap: 12px;
  }
}

@media (max-width: 900px) {
  .theme-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
  }
}

@media (max-width: 768px) {
  .theme-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
  }
  
  .color-inputs {
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
  }
  
  .theme-preview {
    height: 60px;
  }
}

@media (max-width: 480px) {
  .theme-grid {
    grid-template-columns: 1fr;
  }
  
  .color-inputs {
    grid-template-columns: 1fr;
  }
}

 
 / *   T h e m e   g r i d   r e s p o n s i v e   b r e a k p o i n t s   * / 
 @ m e d i a   ( m a x - w i d t h :   1 2 0 0 p x )   { 
     . t h e m e - g r i d   { 
         g r i d - t e m p l a t e - c o l u m n s :   r e p e a t ( 5 ,   1 f r ) ; 
     } 
 } 
 
 @ m e d i a   ( m a x - w i d t h :   9 0 0 p x )   { 
     . t h e m e - g r i d   { 
         g r i d - t e m p l a t e - c o l u m n s :   r e p e a t ( 3 ,   1 f r ) ; 
     } 
 } 
 
 @ m e d i a   ( m a x - w i d t h :   7 6 8 p x )   { 
     . t h e m e - g r i d   { 
         g r i d - t e m p l a t e - c o l u m n s :   r e p e a t ( 2 ,   1 f r ) ; 
     } 
 } 
 
 @ m e d i a   ( m a x - w i d t h :   4 8 0 p x )   { 
     . t h e m e - g r i d   { 
         g r i d - t e m p l a t e - c o l u m n s :   1 f r ; 
     } 
 } 
 
 
 
 / *   S e t t i n g s   I c o n   * / 
 . s e t t i n g s - i c o n   { 
     p o s i t i o n :   f i x e d ; 
     t o p :   2 0 p x ; 
     r i g h t :   2 0 p x ; 
     w i d t h :   4 8 p x ; 
     h e i g h t :   4 8 p x ; 
     b a c k g r o u n d :   v a r ( - - t e r m - c o l o r ,   # 2 B 5 D 8 A ) ; 
     b o r d e r - r a d i u s :   5 0 % ; 
     d i s p l a y :   f l e x ; 
     a l i g n - i t e m s :   c e n t e r ; 
     j u s t i f y - c o n t e n t :   c e n t e r ; 
     c u r s o r :   p o i n t e r ; 
     c o l o r :   w h i t e ; 
     b o x - s h a d o w :   0   4 p x   1 2 p x   r g b a ( 0 ,   0 ,   0 ,   0 . 1 5 ) ; 
     t r a n s i t i o n :   a l l   0 . 3 s   e a s e ; 
     z - i n d e x :   1 0 0 0 ; 
 } 
 
 . s e t t i n g s - i c o n : h o v e r   { 
     t r a n s f o r m :   s c a l e ( 1 . 1 )   r o t a t e ( 9 0 d e g ) ; 
     b o x - s h a d o w :   0   6 p x   2 0 p x   r g b a ( 0 ,   0 ,   0 ,   0 . 2 5 ) ; 
 } 
 
 / *   C a l e n d a r   S t y l e s   * / 
 . c a l e n d a r - c o n t a i n e r   { 
     p o s i t i o n :   a b s o l u t e ; 
     l e f t :   5 5 p x ; 
     r i g h t :   5 5 p x ; 
     t o p :   1 9 5 p x ; 
     b a c k g r o u n d :   w h i t e ; 
     b o r d e r - r a d i u s :   1 5 p x ; 
     b o r d e r :   3 p x   s o l i d   v a r ( - - b o r d e r - c o l o r ,   # d d d ) ; 
     p a d d i n g :   2 5 p x ; 
     b o x - s h a d o w :   0   8 p x   2 5 p x   r g b a ( 0 ,   0 ,   0 ,   0 . 1 ) ; 
 } 
 
 . c a l e n d a r - h e a d e r   { 
     d i s p l a y :   f l e x ; 
     a l i g n - i t e m s :   c e n t e r ; 
     j u s t i f y - c o n t e n t :   s p a c e - b e t w e e n ; 
     m a r g i n - b o t t o m :   2 5 p x ; 
     p a d d i n g - b o t t o m :   1 5 p x ; 
     b o r d e r - b o t t o m :   2 p x   s o l i d   # f 0 f 0 f 0 ; 
 } 
 
 . c a l e n d a r - h e a d e r   h 2   { 
     f o n t - f a m i l y :   ' E x c a l i f o n t ' ; 
     f o n t - s i z e :   2 8 p x ; 
     f o n t - w e i g h t :   b o l d ; 
     c o l o r :   v a r ( - - t e r m - c o l o r ,   # 2 B 5 D 8 A ) ; 
     m a r g i n :   0 ; 
     f l e x :   1 ; 
     t e x t - a l i g n :   c e n t e r ; 
 } 
 
 . n a v - b t n   { 
     b a c k g r o u n d :   v a r ( - - t e r m - c o l o r ,   # 2 B 5 D 8 A ) ; 
     c o l o r :   w h i t e ; 
     b o r d e r :   n o n e ; 
     b o r d e r - r a d i u s :   5 0 % ; 
     w i d t h :   4 0 p x ; 
     h e i g h t :   4 0 p x ; 
     f o n t - s i z e :   1 8 p x ; 
     f o n t - w e i g h t :   b o l d ; 
     c u r s o r :   p o i n t e r ; 
     t r a n s i t i o n :   a l l   0 . 3 s   e a s e ; 
     d i s p l a y :   f l e x ; 
     a l i g n - i t e m s :   c e n t e r ; 
     j u s t i f y - c o n t e n t :   c e n t e r ; 
 } 
 
 . n a v - b t n : h o v e r   { 
     t r a n s f o r m :   s c a l e ( 1 . 1 ) ; 
     b o x - s h a d o w :   0   4 p x   1 2 p x   r g b a ( 0 ,   0 ,   0 ,   0 . 2 ) ; 
 } 
 
 . t o d a y - b t n ,   . a d d - e v e n t - b t n   { 
     b a c k g r o u n d :   v a r ( - - t e r m - c o l o r ,   # 2 B 5 D 8 A ) ; 
     c o l o r :   w h i t e ; 
     b o r d e r :   n o n e ; 
     b o r d e r - r a d i u s :   2 5 p x ; 
     p a d d i n g :   1 0 p x   2 0 p x ; 
     f o n t - f a m i l y :   ' E x c a l i f o n t ' ; 
     f o n t - w e i g h t :   b o l d ; 
     c u r s o r :   p o i n t e r ; 
     t r a n s i t i o n :   a l l   0 . 3 s   e a s e ; 
     m a r g i n - l e f t :   1 0 p x ; 
 } 
 
 . t o d a y - b t n : h o v e r ,   . a d d - e v e n t - b t n : h o v e r   { 
     t r a n s f o r m :   t r a n s l a t e Y ( - 2 p x ) ; 
     b o x - s h a d o w :   0   6 p x   1 5 p x   r g b a ( 0 ,   0 ,   0 ,   0 . 2 ) ; 
 } 
 
 . c a l e n d a r - g r i d   { 
     w i d t h :   1 0 0 % ; 
 } 
 
 . c a l e n d a r - w e e k d a y s   { 
     d i s p l a y :   g r i d ; 
     g r i d - t e m p l a t e - c o l u m n s :   r e p e a t ( 7 ,   1 f r ) ; 
     g a p :   2 p x ; 
     m a r g i n - b o t t o m :   1 0 p x ; 
 } 
 
 . w e e k d a y   { 
     t e x t - a l i g n :   c e n t e r ; 
     f o n t - f a m i l y :   ' E x c a l i f o n t ' ; 
     f o n t - w e i g h t :   b o l d ; 
     c o l o r :   v a r ( - - t e r m - c o l o r ,   # 2 B 5 D 8 A ) ; 
     p a d d i n g :   1 2 p x   0 ; 
     f o n t - s i z e :   1 6 p x ; 
 } 
 
 . c a l e n d a r - d a y s   { 
     d i s p l a y :   g r i d ; 
     g r i d - t e m p l a t e - c o l u m n s :   r e p e a t ( 7 ,   1 f r ) ; 
     g a p :   2 p x ; 
 } 
 
 . c a l e n d a r - d a y   { 
     m i n - h e i g h t :   1 0 0 p x ; 
     b o r d e r :   1 p x   s o l i d   # e 0 e 0 e 0 ; 
     b o r d e r - r a d i u s :   8 p x ; 
     p a d d i n g :   8 p x ; 
     c u r s o r :   p o i n t e r ; 
     t r a n s i t i o n :   a l l   0 . 3 s   e a s e ; 
     b a c k g r o u n d :   w h i t e ; 
     p o s i t i o n :   r e l a t i v e ; 
 } 
 
 . c a l e n d a r - d a y : h o v e r   { 
     b o r d e r - c o l o r :   v a r ( - - t e r m - c o l o r ,   # 2 B 5 D 8 A ) ; 
     b o x - s h a d o w :   0   2 p x   8 p x   r g b a ( 0 ,   0 ,   0 ,   0 . 1 ) ; 
     t r a n s f o r m :   t r a n s l a t e Y ( - 1 p x ) ; 
 } 
 
 . c a l e n d a r - d a y . t o d a y   { 
     b o r d e r :   2 p x   s o l i d   v a r ( - - t e r m - c o l o r ,   # 2 B 5 D 8 A ) ; 
     b a c k g r o u n d :   r g b a ( v a r ( - - t e r m - c o l o r - r g b ,   4 3 ,   9 3 ,   1 3 8 ) ,   0 . 0 5 ) ; 
 } 
 
 . c a l e n d a r - d a y . e m p t y   { 
     c u r s o r :   d e f a u l t ; 
     o p a c i t y :   0 . 3 ; 
 } 
 
 . c a l e n d a r - d a y . e m p t y : h o v e r   { 
     b o r d e r - c o l o r :   # e 0 e 0 e 0 ; 
     b o x - s h a d o w :   n o n e ; 
     t r a n s f o r m :   n o n e ; 
 } 
 
 . d a y - n u m b e r   { 
     f o n t - f a m i l y :   ' E x c a l i f o n t ' ; 
     f o n t - w e i g h t :   b o l d ; 
     f o n t - s i z e :   1 6 p x ; 
     c o l o r :   # 3 3 3 ; 
     m a r g i n - b o t t o m :   5 p x ; 
 } 
 
 . d a y - e v e n t s   { 
     d i s p l a y :   f l e x ; 
     f l e x - d i r e c t i o n :   c o l u m n ; 
     g a p :   2 p x ; 
 } 
 
 . e v e n t - i t e m   { 
     f o n t - s i z e :   1 0 p x ; 
     p a d d i n g :   2 p x   4 p x ; 
     b o r d e r - r a d i u s :   3 p x ; 
     c u r s o r :   p o i n t e r ; 
     t r a n s i t i o n :   a l l   0 . 2 s   e a s e ; 
     o v e r f l o w :   h i d d e n ; 
     t e x t - o v e r f l o w :   e l l i p s i s ; 
     w h i t e - s p a c e :   n o w r a p ; 
 } 
 
 . e v e n t - i t e m : h o v e r   { 
     t r a n s f o r m :   s c a l e ( 1 . 0 5 ) ; 
     z - i n d e x :   1 0 ; 
     p o s i t i o n :   r e l a t i v e ; 
     w h i t e - s p a c e :   n o r m a l ; 
     o v e r f l o w :   v i s i b l e ; 
 } 
 
 . e v e n t - t i t l e   { 
     f o n t - w e i g h t :   b o l d ; 
     l i n e - h e i g h t :   1 . 2 ; 
 } 
 
 . e v e n t - t i m e   { 
     f o n t - s i z e :   9 p x ; 
     o p a c i t y :   0 . 9 ; 
 } 
 
 / *   E v e n t   M o d a l   S t y l e s   * / 
 . e v e n t - m o d a l - c o n t e n t   { 
     m a x - w i d t h :   6 0 0 p x ; 
     m a x - h e i g h t :   8 0 v h ; 
     o v e r f l o w - y :   a u t o ; 
 } 
 
 . e v e n t - f o r m   . f o r m - g r o u p   { 
     m a r g i n - b o t t o m :   2 0 p x ; 
 } 
 
 . e v e n t - f o r m   l a b e l   { 
     d i s p l a y :   b l o c k ; 
     f o n t - f a m i l y :   ' E x c a l i f o n t ' ; 
     f o n t - w e i g h t :   b o l d ; 
     c o l o r :   v a r ( - - t e r m - c o l o r ,   # 2 B 5 D 8 A ) ; 
     m a r g i n - b o t t o m :   5 p x ; 
 } 
 
 . e v e n t - f o r m   i n p u t , 
 . e v e n t - f o r m   s e l e c t , 
 . e v e n t - f o r m   t e x t a r e a   { 
     w i d t h :   1 0 0 % ; 
     p a d d i n g :   1 0 p x ; 
     b o r d e r :   2 p x   s o l i d   # d d d ; 
     b o r d e r - r a d i u s :   8 p x ; 
     f o n t - f a m i l y :   ' E x c a l i f o n t ' ; 
     f o n t - s i z e :   1 4 p x ; 
     t r a n s i t i o n :   b o r d e r - c o l o r   0 . 3 s   e a s e ; 
     b o x - s i z i n g :   b o r d e r - b o x ; 
 } 
 
 . e v e n t - f o r m   i n p u t : f o c u s , 
 . e v e n t - f o r m   s e l e c t : f o c u s , 
 . e v e n t - f o r m   t e x t a r e a : f o c u s   { 
     o u t l i n e :   n o n e ; 
     b o r d e r - c o l o r :   v a r ( - - t e r m - c o l o r ,   # 2 B 5 D 8 A ) ; 
 } 
 
 . c o l o r - p i c k e r   { 
     d i s p l a y :   f l e x ; 
     a l i g n - i t e m s :   c e n t e r ; 
     g a p :   1 5 p x ; 
 } 
 
 . c o l o r - p i c k e r   i n p u t [ t y p e = \  
 c o l o r \ ]   { 
     w i d t h :   5 0 p x ; 
     h e i g h t :   4 0 p x ; 
     b o r d e r :   n o n e ; 
     b o r d e r - r a d i u s :   8 p x ; 
     c u r s o r :   p o i n t e r ; 
 } 
 
 . c o l o r - p r e s e t s   { 
     d i s p l a y :   f l e x ; 
     g a p :   8 p x ; 
 } 
 
 . c o l o r - p r e s e t   { 
     w i d t h :   3 0 p x ; 
     h e i g h t :   3 0 p x ; 
     b o r d e r - r a d i u s :   5 0 % ; 
     c u r s o r :   p o i n t e r ; 
     b o r d e r :   2 p x   s o l i d   t r a n s p a r e n t ; 
     t r a n s i t i o n :   a l l   0 . 3 s   e a s e ; 
 } 
 
 . c o l o r - p r e s e t : h o v e r   { 
     t r a n s f o r m :   s c a l e ( 1 . 2 ) ; 
     b o r d e r - c o l o r :   # 3 3 3 ; 
 } 
 
 / *   E v e n t   T y p e   C o l o r s   * / 
 . e v e n t - a s s i g n m e n t   { 
     b a c k g r o u n d - c o l o r :   # 2 B 5 D 8 A   ! i m p o r t a n t ; 
 } 
 
 . e v e n t - e x a m   { 
     b a c k g r o u n d - c o l o r :   # E 7 4 C 3 C   ! i m p o r t a n t ; 
 } 
 
 . e v e n t - r e m i n d e r   { 
     b a c k g r o u n d - c o l o r :   # F 3 9 C 1 2   ! i m p o r t a n t ; 
 } 
 
 . e v e n t - s t u d y   { 
     b a c k g r o u n d - c o l o r :   # 2 7 A E 6 0   ! i m p o r t a n t ; 
 } 
 
 . e v e n t - p e r s o n a l   { 
     b a c k g r o u n d - c o l o r :   # 8 E 4 4 A D   ! i m p o r t a n t ; 
 }  
 